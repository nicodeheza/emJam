{"version":3,"sources":["redux/consts.js","redux/actions/audioContex.js","redux/actions/wavesActions.js","svg/SettingsIcon.js","svg/VolumeIcon.js","svg/UserIcon.js","svg/PianoIcon.js","svg/DrumsIcon.js","chat/Toolbar.js","connectionConst.js","Notes/Notes.js","Notes/Drum.js","redux/actions/noteActions.js","chat/PianoKey.js","redux/actions/touchActions.js","chat/keyMap.js","chat/Keyboard.js","svg/Sine.js","svg/Square.js","svg/Triangle.js","svg/Sawtooth.js","chat/Settings.js","redux/actions/chatActions.js","chat/Reconnect.js","chat/onMessage.js","chat/Canvas.js","chat/Chat.js","redux/actions/drumsBufferAction.js","svg/StartIcon.js","home/Home.js","redux/reducers/chatReducer.js","redux/store.js","redux/reducers/audioContextReducer.js","redux/reducers/waveReducer.js","redux/reducers/noteReducer.js","redux/reducers/drumsBufferReducer.js","redux/reducers/touchReducer.js","App.js","reportWebVitals.js","index.js"],"names":["CREATE_AUDIO_CONTEXT","CREATE_MAIN_GAIN","CREATE_WAVE","PLAY_NOTE","STOP_NOTE","PLAY_DRUM","DELETE_DRUM","CONNECT","UPDATE_CONNECTION_STATE","SET_ROOM","ADD_USER","DELETE_USER","DELETE_WAVE","CREATE_DRUMS_BUFFERS","RESET_CHAT","RESET_WAVES","IS_TOUCH","AudioContext","window","webkitAudioContext","colors","colorIndex","createWave","userId","dispatch","getState","audioCtx","masterGain","wave","analyser","createAnalyser","connect","fftSize","bl","frequencyBinCount","bufferLength","dataArr","Uint8Array","color","type","payload","SettigsIcon","classN","version","xmlns","xmlnsXlink","xmlnsa","viewBox","className","d","VolumeIcon","percent","UserIcon","cx","cy","r","PianoIcon","DrumsIcon","Toolbar","mainVolumen","setMainVolumen","drumsSelected","setDrumsSelected","setShowSettings","useState","settingAnimation","setSettingAnimation","numOfUsers","useSelector","s","chat","users","length","id","onClick","prev","onAnimationEnd","htmlFor","name","min","max","value","onChange","e","parseFloat","target","DISCONNECTED","FAIL","CONNECTED","Note","freq","sine","square","sawtooth","triangle","vibratoGain","vibratoFrequency","instrumentVolume","this","oscTotal","oscData","gain","instrumentGain","createGain","setValueAtTime","sustainGain","sustain","vibrato","createOscillator","frequency","oscillators","forEach","osc","oscillator","currentTime","gainOscNode","push","play","now","linearRampToValueAtTime","maxLevel","start","stopTime","stop","Drum","buffer","source","createBufferSource","drumGain","playNotes","noteId","waves","notes","undefined","note","stopNote","playDrum","drumId","drumBufferIndex","drumsBuffer","drum","deleteDrum","PianoKey","i","char","keysPressed","instrumentSettings","useDispatch","pressed","setPressed","mouseP","setMouseP","notePlaying","setNotePlaying","isTouchState","isTouch","keyIndex","mouseDown","mouseUp","useEffect","includes","room","ws","connectionState","sendNote","useCallback","isPlaying","message","stringMessage","JSON","stringify","send","sendDrum","drumpBuffersIndex","Math","pow","vibratoFreq","volume","style","backgroundColor","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onMouseLeave","toUpperCase","keyMapString","split","Keyboard","isScrolling","clientX","scrollX","drag","setDrag","keyboard","useRef","current","scrollLeft","onMouseMove","scroll","mouseMove","ref","keyMap","map","ele","Sine","Square","Triangle","Sawtooth","Settings","setInstrumentSettings","showSettings","settingsBox","mainContainer","boxWidth","setBoxWidth","width","innerWidth","height","innerHeight","dimensions","setDimensions","handleResize","addEventListener","removeEventListener","bw","getBoundingClientRect","opacity","setTimeout","transform","transition","WebSocket","updateConnectionState","state","addUser","user","Reconnect","seconds","setSeconds","sec","timer","setInterval","clearInterval","onMessage","data","parse","status","usersUpdated","filter","disconnect","hasOwnProperty","Canvas","canvas","w","h","ctx","requestRef","wavesKeys","setWavesKeys","onResize","container","document","getElementById","offsetWidth","offsetHeight","keys","Object","center","ceil","waveKeys","splice","getContext","draw","fillStyle","fillRect","key","getByteTimeDomainData","scaX","rad","sw","posX","posY","circleScale","graphScale","strokeStyle","lineWidth","beginPath","x","y","moveTo","lineTo","stroke","cos","PI","sin","makeGraphics","requestAnimationFrame","cancelAnimationFrame","drumsFilesNames","Chat","setKeysPressed","keyDown","toLocaleLowerCase","keyUp","keyMapLength","destination","a","buffers","fileDir","fetch","res","arrayBuffer","soundBuffer","decodeAudioData","dBuffer","vol","err","onerror","console","log","onopen","onmessage","onclose","close","StartIcon","points","Home","src","alt","to","initialState","rootReducer","combineReducers","action","store","App","createStore","applyMiddleware","thunk","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.62dba010.chunk.js","sourcesContent":["export const CREATE_AUDIO_CONTEXT = \"CREATE_AUDIO_CONTEXT\";\r\nexport const CREATE_MAIN_GAIN = \"CREATE_MAIN_GAIN\";\r\nexport const CREATE_WAVE = \"CREATE_WAVE\";\r\nexport const PLAY_NOTE = \"PLAY_NOTE\";\r\nexport const STOP_NOTE = \"STOP_NOTE\";\r\nexport const PLAY_DRUM = \"PLAY_DRUM\";\r\nexport const DELETE_DRUM = \"DELETE_DRUM\";\r\nexport const CONNECT = \"CONNECT\";\r\nexport const UPDATE_CONNECTION_STATE = \"UPDATE_CONNECTION_STATE\";\r\nexport const SET_ROOM = \"SET_ROOM\";\r\nexport const ADD_USER = \"ADD_USER\";\r\nexport const DELETE_USER = \"DELETE_USER\";\r\nexport const DELETE_WAVE = \"DELETE_WAVE\";\r\nexport const CREATE_DRUMS_BUFFERS = \"CREATE_DRUMS_BUFFERS\";\r\nexport const RESET_CHAT = \"RESET_CHAT\";\r\nexport const RESET_WAVES = \"RESET_WAVES\";\r\nexport const IS_TOUCH = \"IS_TOUCH\";\r\n","import {CREATE_AUDIO_CONTEXT, CREATE_MAIN_GAIN} from \"../consts\";\r\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\nexport const createAudioContext = () => (dispatch) => {\r\n\tconst audioCtx = new AudioContext();\r\n\r\n\tdispatch({\r\n\t\ttype: CREATE_AUDIO_CONTEXT,\r\n\t\tpayload: audioCtx\r\n\t});\r\n};\r\n\r\nexport const createMainGain = () => (dispatch, getState) => {\r\n\tconst {audioCtx} = getState().audioCtx;\r\n\tconst masterGain = audioCtx.createGain();\r\n\tmasterGain.connect(audioCtx.destination);\r\n\tdispatch({\r\n\t\ttype: CREATE_MAIN_GAIN,\r\n\t\tpayload: masterGain\r\n\t});\r\n};\r\n\r\nexport const updateMasterGain = (vol) => (dispatch, getState) => {\r\n\tconst {masterGain} = getState().audioCtx;\r\n\tmasterGain.gain.setValueAtTime(vol, 0);\r\n};\r\n","import {CREATE_WAVE, DELETE_WAVE, RESET_WAVES} from \"../consts\";\r\n\r\nconst colors = [\r\n\t\"rgb(255,0,0)\",\r\n\t\"rgb(0,255,0)\",\r\n\t\"rgb(0,0,255)\",\r\n\t\"rgb(255,255,0)\",\r\n\t\"rgb(0,255,255)\"\r\n];\r\nlet colorIndex = 0;\r\n\r\nexport const createWave = (userId) => (dispatch, getState) => {\r\n\tconst {audioCtx, masterGain} = getState().audioCtx;\r\n\tconst wave = {};\r\n\twave.analyser = audioCtx.createAnalyser();\r\n\twave.analyser.connect(masterGain);\r\n\twave.analyser.fftSize = 2048;\r\n\tconst bl = wave.analyser.frequencyBinCount;\r\n\twave.bufferLength = bl;\r\n\twave.dataArr = new Uint8Array(bl);\r\n\r\n\t//colors\r\n\twave.color = colors[colorIndex];\r\n\tcolorIndex++;\r\n\tcolorIndex = colorIndex % 5;\r\n\r\n\tdispatch({\r\n\t\ttype: CREATE_WAVE,\r\n\t\tpayload: {userId, wave}\r\n\t});\r\n};\r\n\r\nexport const deleteWave = (userId) => (dispatch, getState) => {\r\n\tconst waves = getState().waves;\r\n\tconst {masterGain} = getState().audioCtx;\r\n\twaves[userId].analyser.disconnect(masterGain);\r\n\tdelete waves[userId];\r\n\tdispatch({\r\n\t\ttype: DELETE_WAVE,\r\n\t\tpayload: waves\r\n\t});\r\n};\r\n\r\nexport const resetWaves = () => (dispatch, getState) => {\r\n\tconst waves = getState().waves;\r\n\tconst {masterGain} = getState().audioCtx;\r\n\tfor (const wave in waves) {\r\n\t\tif (wave !== \"local\") {\r\n\t\t\twaves[wave].analyser.disconnect(masterGain);\r\n\t\t\tdelete waves[wave];\r\n\t\t}\r\n\t}\r\n\tdispatch({\r\n\t\ttype: RESET_WAVES,\r\n\t\tpayload: waves\r\n\t});\r\n};\r\n","export default function SettigsIcon({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 68.1 71.5\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<path\r\n\t\t\t\td=\"M66.6,45.9c0-0.8-0.4-1.5-1.1-1.9l-6.2-3.6c0.3-1.5,0.4-3.2,0.4-4.7c0-1.5-0.2-3.2-0.4-4.7l6.2-3.6\r\n\tc0.7-0.4,1.1-1.1,1.1-1.9c0-1.9-5.6-13.2-8.5-13.2c-0.4,0-0.8,0.1-1.1,0.3l-6.2,3.6c-2.4-2-5.1-3.6-8.1-4.7V4.4c0-1-0.7-1.9-1.7-2.1\r\n\tc-2.2-0.5-4.5-0.7-6.9-0.7s-4.7,0.3-6.9,0.7c-1,0.2-1.7,1.1-1.7,2.1v7.2c-3,1.1-5.7,2.7-8.1,4.7l-6.3-3.6c-0.3-0.2-0.7-0.3-1.1-0.3\r\n\tc-2.6,0-8.5,11-8.5,13.2c0,0.8,0.4,1.5,1.1,1.9l6.2,3.6c-0.3,1.5-0.4,3.1-0.4,4.7s0.2,3.2,0.4,4.7L2.6,44c-0.7,0.4-1.1,1.1-1.1,1.9\r\n\tc0,1.9,5.6,13.2,8.5,13.2c0.4,0,0.8-0.1,1.1-0.3l6.2-3.6c2.4,2,5.1,3.6,8.1,4.7v7.2c0,1,0.7,1.9,1.7,2.1c2.2,0.5,4.5,0.7,6.8,0.7\r\n\ts4.7-0.3,6.9-0.7c1.1-0.3,1.8-1.1,1.8-2.1v-7.2c3-1.1,5.7-2.7,8.1-4.7l6.2,3.6c0.3,0.2,0.7,0.3,1.1,0.3\r\n\tC60.7,59.1,66.6,48.2,66.6,45.9z M34.1,46.4c-5.9,0-10.7-4.8-10.7-10.7S28.2,25,34.1,25s10.7,4.8,10.7,10.7S40,46.4,34.1,46.4z\"\r\n\t\t\t/>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function VolumeIcon({classN, percent}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 70.7 51.7\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M37.7,7.2v37.3c0,1.8-1.5,3.3-3.3,3.3L17.6,37.1H4.4c-1.6,0-2.9-1.3-2.9-2.9V17.5c0-1.6,1.3-2.9,2.9-2.9h13.2\r\n\t\t\tL34.4,3.9C36.2,3.9,37.7,5.4,37.7,7.2z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M47.1,40.8c-0.5,0-0.9-0.2-1.3-0.5c-0.7-0.7-0.7-1.8,0-2.6c3.1-3.1,4.8-7.3,4.8-11.7c0-4.5-1.8-8.8-5-12\r\n\t\t\tc-0.7-0.7-0.7-1.8,0-2.6c0.7-0.7,1.8-0.7,2.6,0c4,3.9,6.1,9,6.1,14.6c0,5.4-2.1,10.4-5.8,14.3C48,40.6,47.5,40.8,47.1,40.8z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M52.3,46.1c-0.5,0-0.9-0.2-1.3-0.5c-0.7-0.7-0.7-1.9,0-2.6c4.5-4.6,7-10.6,7-17c0-6.5-2.6-12.7-7.2-17.2\r\n\t\t\tc-0.7-0.7-0.7-1.8,0-2.6c0.7-0.7,1.8-0.7,2.6,0c5.4,5.3,8.3,12.3,8.3,19.8c0,7.4-2.9,14.3-8.1,19.6C53.2,45.9,52.8,46.1,52.3,46.1\r\n\t\t\tz\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M58.3,50.7c-0.5,0-0.9-0.2-1.3-0.5c-0.7-0.7-0.7-1.9,0-2.6c5.8-5.8,9-13.5,9-21.7c0-8.2-3.2-15.9-9-21.7\r\n\t\t\tc-0.7-0.7-0.7-1.9,0-2.6c0.7-0.7,1.9-0.7,2.6,0C66.1,8,69.7,16.6,69.7,25.8c0,9.2-3.6,17.8-10.1,24.3\r\n\t\t\tC59.2,50.5,58.8,50.7,58.3,50.7z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path d=\"M66.1,25.8\" />\r\n\t\t\t\t</g>\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function UserIcon({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 19 38.8\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<g>\r\n\t\t\t\t<path d=\"M9.5,14.3L9.5,14.3c5.2,0,9.5,4.3,9.5,9.5v15H0v-15C0,18.5,4.3,14.3,9.5,14.3z\" />\r\n\t\t\t\t<circle cx=\"9.5\" cy=\"6.8\" r=\"6.8\" />\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function PianoIcon({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 126.2 64.3\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M117.7,0H8.5C3.8,0,0,3.8,0,8.5v47.3c0,4.7,3.8,8.5,8.5,8.5h109.2c4.7,0,8.5-3.8,8.5-8.5V8.5\r\n\t\t\tC126.2,3.8,122.4,0,117.7,0z M100.5,18.1c0-0.8,0.7-1.5,1.5-1.5h0.3V7.4h1.4v9.2h0.5c0.8,0,1.5,0.7,1.5,1.5v2.2\r\n\t\t\tc0,0.8-0.7,1.5-1.5,1.5h-0.5V27h-1.4v-5.2H102c-0.8,0-1.5-0.7-1.5-1.5V18.1z M89.8,10.6c0-0.8,0.7-1.5,1.5-1.5h0.4V7.4h1.4v1.7\r\n\t\t\th0.4c0.8,0,1.5,0.7,1.5,1.5v2.2c0,0.8-0.7,1.5-1.5,1.5h-0.4V27h-1.4V14.3h-0.4c-0.8,0-1.5-0.7-1.5-1.5V10.6z M22.5,15.5\r\n\t\t\tc0-1.7,1.3-3,3-3h3.2c1.7,0,3,1.3,3,3v3.2c0,1.7-1.3,3-3,3h-3.2c-1.7,0-3-1.3-3-3V15.5z M9.7,15.5c0-1.7,1.3-3,3-3h3.2\r\n\t\t\tc1.7,0,3,1.3,3,3v3.2c0,1.7-1.3,3-3,3h-3.2c-1.7,0-3-1.3-3-3V15.5z M13.5,59.7h-5c-2.2,0-3.9-1.7-3.9-3.9V34.5c0.1,0,0.2,0,0.3,0\r\n\t\t\th6.4v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M25.7,59.7H15.2V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5h6.1v13.3c0,0.6,0.5,1.1,1.1,1.1\r\n\t\t\th1.1V59.7z M37.9,59.7H27.3V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5h8.3V59.7z M35.3,18.8v-3.2c0-1.7,1.3-3,3-3h3.2c1.7,0,3,1.3,3,3\r\n\t\t\tv3.2c0,1.7-1.3,3-3,3h-3.2C36.7,21.8,35.3,20.4,35.3,18.8z M50,59.7H39.5V34.5h8.3v13.3c0,0.6,0.5,1.1,1.1,1.1H50V59.7z\r\n\t\t\t M62.2,59.7H51.7V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5H60v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M74.4,59.7H63.9V48.9H65\r\n\t\t\tc0.6,0,1.1-0.5,1.1-1.1V34.5h8.3V59.7z M86.6,59.7H76V34.5h8.3v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M98.7,59.7H88.2V48.9h1.1\r\n\t\t\tc0.6,0,1.1-0.5,1.1-1.1V34.5h6.1v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M110.9,59.7h-10.5V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5\r\n\t\t\th8.3V59.7z M111.2,14.2V12c0-0.8,0.7-1.5,1.5-1.5h0.3V7.4h1.4v3.2h0.5c0.8,0,1.5,0.7,1.5,1.5v2.2c0,0.8-0.7,1.5-1.5,1.5h-0.5V27\r\n\t\t\tH113V15.7h-0.3C111.9,15.7,111.2,15.1,111.2,14.2z M121.6,55.8c0,2.2-1.7,3.9-3.9,3.9h-5.1V34.5h9V55.8z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M17.2,15.5v3.2c0,0.7-0.6,1.3-1.3,1.3h-3.2c-0.7,0-1.3-0.6-1.3-1.3v-3.2c0-0.7,0.6-1.3,1.3-1.3h3.2\r\n\t\tC16.6,14.3,17.2,14.8,17.2,15.5z\"\r\n\t\t\t\t/>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M30,15.5v3.2c0,0.7-0.6,1.3-1.3,1.3h-3.2c-0.7,0-1.3-0.6-1.3-1.3v-3.2c0-0.7,0.6-1.3,1.3-1.3h3.2\r\n\t\tC29.4,14.3,30,14.8,30,15.5z\"\r\n\t\t\t\t/>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M42.8,15.5v3.2c0,0.7-0.6,1.3-1.3,1.3h-3.2c-0.7,0-1.3-0.6-1.3-1.3v-3.2c0-0.7,0.6-1.3,1.3-1.3h3.2\r\n\t\tC42.3,14.3,42.8,14.8,42.8,15.5z\"\r\n\t\t\t\t/>\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function DrumsIcon({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 95.7 81.4\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<g>\r\n\t\t\t\t<path d=\"M18.7,51.7V79C8.4,75.9,1.3,70.2,1.1,64.7L0.5,39.4C0.5,39.4,2.7,48,18.7,51.7z\" />\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M46.1,52.6v27.7c-3.4,0.6-7,1-10.8,1c-3.5,0-6.9-0.3-10.1-0.8V52.8c3,0.3,6.2,0.5,9.9,0.5\r\n\t\tC39.3,53.4,42.9,53.1,46.1,52.6z\"\r\n\t\t\t\t/>\r\n\t\t\t\t<path d=\"M70.1,38.3V63c-0.7,6.5-7.6,12.4-17.5,15.7V51.3C67.9,47.2,70.1,38.3,70.1,38.3z\" />\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M85.1,4.1L50.3,18.7c4.5,1,8.4,2.4,11.6,4.1L58,24c-3.5-1.5-7.7-2.6-12.4-3.3l-8.4,3.5c-1.1,0.5-2.2,0.5-2.4,0\r\n\t\tL34.6,24c-0.2-0.5,0.5-1.3,1.6-1.8l47.1-22c1-0.4,2.1,0,2.6,1l0.2,0.4C86.5,2.5,86.1,3.6,85.1,4.1z\"\r\n\t\t\t\t/>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M94,26.2L69,29c0.9,1.4,1.3,3,1.3,4.6c0,9.2-15.5,16.5-35.2,16.5S0,42.9,0,33.6s15.5-16.5,35.2-16.5\r\n\t\tc1,0,2.1,0,3.1,0.1l-4.2,2.7C17,20.2,2.8,26.4,2.8,33.6c0,7.4,14.8,13.7,32.4,13.7s32.4-6.3,32.4-13.7c0-1.5-0.6-2.9-1.7-4.2\r\n\t\tl-23.6,2.7c-1.2,0.2-2.3-0.2-2.3-0.7l0-0.2c-0.1-0.6,0.8-1.1,2.1-1.3l20.9-3.2c0,0,0,0,0,0l3.7-0.6c0,0,0,0,0,0l26.9-4.2\r\n\t\tc1.1-0.1,2,0.6,2.2,1.7l0.1,0.4C95.9,25,95.1,26,94,26.2z\"\r\n\t\t\t\t/>\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","import SettingsIcon from \"../svg/SettingsIcon\";\r\nimport VolumenIcon from \"../svg/VolumeIcon\";\r\nimport UserIcon from \"../svg/UserIcon\";\r\nimport PianoIcon from \"../svg/PianoIcon\";\r\nimport DrumsIcon from \"../svg/DrumsIcon\";\r\n\r\nimport \"./toolbar.css\";\r\nimport {useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport default function Toolbar({\r\n\tmainVolumen,\r\n\tsetMainVolumen,\r\n\tdrumsSelected,\r\n\tsetDrumsSelected,\r\n\tsetShowSettings\r\n}) {\r\n\tconst [settingAnimation, setSettingAnimation] = useState(false);\r\n\tconst numOfUsers = useSelector((s) => s.chat.users.length + 1);\r\n\r\n\tfunction click() {\r\n\t\tsetShowSettings((prev) => !prev);\r\n\t\tsetSettingAnimation(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav className=\"toolbarMainContainer\">\r\n\t\t\t<div className=\"toolsContainer settingsBtnContainer\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tid=\"setBtn\"\r\n\t\t\t\t\tonClick={() => click()}\r\n\t\t\t\t\tonAnimationEnd={() => setSettingAnimation(false)}\r\n\t\t\t\t\tclassName={settingAnimation ? \"stAnimation\" : \"\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t<SettingsIcon classN={\"settingsIcon\"} />\r\n\t\t\t\t</button>\r\n\t\t\t\t<label htmlFor=\"setBtn\" className=\"toolsLabel\">\r\n\t\t\t\t\tInstrument Settings\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"toolsContainer\">\r\n\t\t\t\t<div className=\"rangeVolumenContainer\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\tname=\"main-volumen\"\r\n\t\t\t\t\t\tid=\"main-volumen\"\r\n\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\tvalue={mainVolumen}\r\n\t\t\t\t\t\tonChange={(e) => setMainVolumen(parseFloat(e.target.value))}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<VolumenIcon classN={\"volumenIcon\"} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<label htmlFor=\"main-volumen\" className=\"toolsLabel\">\r\n\t\t\t\t\tMaster Volumen\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"connectedUsersMainContainer toolsContainer\">\r\n\t\t\t\t<div id=\"connected-users\" className=\"connectedUsersContainer\">\r\n\t\t\t\t\t<UserIcon classN={\"userIcon\"} />\r\n\t\t\t\t\t<p>{numOfUsers + \"/5\"}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<label htmlFor=\"connected-users\" className=\"toolsLabel\">\r\n\t\t\t\t\tUsers Connected\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"toolsContainer\">\r\n\t\t\t\t<div id=\"instrument-picker\" className=\"instrumentMainContainer\">\r\n\t\t\t\t\t<button className=\"instrumentBtn\" onClick={() => setDrumsSelected(false)}>\r\n\t\t\t\t\t\t<PianoIcon classN={drumsSelected ? \"pianoIcon instrumentOff\" : \"pianoIcon\"} />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"instrumentBtn\" onClick={() => setDrumsSelected(true)}>\r\n\t\t\t\t\t\t<DrumsIcon classN={drumsSelected ? \"drumsIcon\" : \"drumsIcon instrumentOff\"} />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<label htmlFor=\"instrument-picker\" className=\"toolsLabel\">\r\n\t\t\t\t\tInstrument\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","export const DISCONNECTED = \"DISCONNECTED\";\r\nexport const FAIL = \"FAIL\";\r\nexport const CONNECTED = \"CONNECTED\";\r\n","export default class Note {\r\n\tconstructor(\r\n\t\tfreq,\r\n\t\tanalyser,\r\n\t\tsine,\r\n\t\tsquare,\r\n\t\tsawtooth,\r\n\t\ttriangle,\r\n\t\tvibratoGain,\r\n\t\tvibratoFrequency,\r\n\t\taudioCtx,\r\n\t\tinstrumentVolume\r\n\t) {\r\n\t\tthis.freq = freq;\r\n\r\n\t\tthis.oscTotal = sine + square + sawtooth + triangle;\r\n\t\tthis.oscData = [\r\n\t\t\t{type: \"sine\", gain: sine / this.oscTotal},\r\n\t\t\t{type: \"square\", gain: square / this.oscTotal},\r\n\t\t\t{type: \"sawtooth\", gain: sawtooth / this.oscTotal},\r\n\t\t\t{type: \"triangle\", gain: triangle / this.oscTotal}\r\n\t\t];\r\n\r\n\t\tthis.audioCtx = audioCtx;\r\n\r\n\t\tthis.instrumentGain = this.audioCtx.createGain();\r\n\t\tthis.instrumentGain.gain.setValueAtTime(instrumentVolume / 100, 0);\r\n\t\tthis.instrumentGain.connect(analyser);\r\n\r\n\t\t//this.noteGain= masterGain;\r\n\t\tthis.sustainGain = this.audioCtx.createGain();\r\n\r\n\t\tthis.sustain();\r\n\r\n\t\tthis.vibrato = this.audioCtx.createOscillator();\r\n\t\tthis.vibrato.frequency.value = vibratoFrequency;\r\n\t\tthis.vibratoGain = this.audioCtx.createGain();\r\n\t\tthis.vibratoGain.gain.value = vibratoGain;\r\n\t\tthis.vibrato.connect(this.vibratoGain);\r\n\r\n\t\tthis.oscillators = [];\r\n\r\n\t\tthis.oscData.forEach((osc) => {\r\n\t\t\tif (osc.gain > 0) {\r\n\t\t\t\tconst oscillator = this.audioCtx.createOscillator();\r\n\t\t\t\toscillator.frequency.setValueAtTime(this.freq, this.audioCtx.currentTime);\r\n\t\t\t\toscillator.type = osc.type;\r\n\t\t\t\tconst gainOscNode = this.audioCtx.createGain();\r\n\t\t\t\tgainOscNode.gain.setValueAtTime(osc.gain, this.audioCtx.currentTime);\r\n\t\t\t\tthis.vibratoGain.connect(oscillator.frequency);\r\n\t\t\t\toscillator.connect(gainOscNode);\r\n\t\t\t\tgainOscNode.connect(this.sustainGain);\r\n\t\t\t\tthis.oscillators.push(oscillator);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tsustain() {\r\n\t\t//podria agregar un argumento de maxLevel para poder controlar el solo del volumen del instrumento\r\n\t\t//ver mas tarde\r\n\t\tconst attackTime = 0.2;\r\n\t\tconst decayTime = 0.3;\r\n\t\tconst maxLevel = 1;\r\n\t\tconst sustainLevel = maxLevel - 0.3;\r\n\t\tconst now = this.audioCtx.currentTime;\r\n\r\n\t\tthis.sustainGain.gain.setValueAtTime(0, now);\r\n\t\tthis.sustainGain.gain.linearRampToValueAtTime(1, now + attackTime);\r\n\t\tthis.sustainGain.gain.linearRampToValueAtTime(\r\n\t\t\tsustainLevel,\r\n\t\t\tnow + attackTime + decayTime\r\n\t\t);\r\n\t\tthis.sustainGain.connect(this.instrumentGain);\r\n\t}\r\n\r\n\tplay() {\r\n\t\tthis.vibrato.start();\r\n\t\tthis.oscillators.forEach((osc) => {\r\n\t\t\tosc.start();\r\n\t\t});\r\n\t}\r\n\r\n\tstop() {\r\n\t\tconst stopTime = this.audioCtx.currentTime + 0.2;\r\n\t\t// console.log(\"current time: \" + this.audioCtx.currentTime);\r\n\t\t//console.log(\"stop1\");\r\n\t\tthis.sustainGain.gain.linearRampToValueAtTime(0, stopTime);\r\n\r\n\t\t//console.log(\"stop2\");\r\n\t\tthis.oscillators.forEach((osc) => {\r\n\t\t\tosc.stop(stopTime);\r\n\t\t});\r\n\t\tthis.vibrato.stop(stopTime);\r\n\t}\r\n}\r\n","export default class Drum {\r\n\tconstructor(buffer, analyser, audioCtx, instrumentVolume) {\r\n\t\tconst source = audioCtx.createBufferSource();\r\n\t\tsource.buffer = buffer;\r\n\t\tconst drumGain = audioCtx.createGain();\r\n\t\tdrumGain.gain.setValueAtTime((instrumentVolume / 100) * 4, 0);\r\n\t\tsource.connect(drumGain);\r\n\t\tdrumGain.connect(analyser);\r\n\t\tsource.start();\r\n\t}\r\n}\r\n","import Note from \"../../Notes/Notes\";\r\nimport Drum from \"../../Notes/Drum\";\r\nimport {PLAY_NOTE, STOP_NOTE, PLAY_DRUM, DELETE_DRUM} from \"../consts\";\r\n\r\nexport const playNotes =\r\n\t(\r\n\t\tnoteId,\r\n\t\tfreq,\r\n\t\tsine,\r\n\t\tsquare,\r\n\t\tsawtooth,\r\n\t\ttriangle,\r\n\t\tvibratoGain,\r\n\t\tvibratoFrequency,\r\n\t\tinstrumentVolume,\r\n\t\tuserId\r\n\t) =>\r\n\t(dispatch, getState) => {\r\n\t\tconst {analyser} = getState().waves[userId];\r\n\t\tconst {audioCtx} = getState().audioCtx;\r\n\t\tconst notes = getState().notes;\r\n\r\n\t\tif (!notes[noteId] || notes[noteId] === undefined) {\r\n\t\t\tconst note = new Note(\r\n\t\t\t\tfreq,\r\n\t\t\t\tanalyser,\r\n\t\t\t\tsine,\r\n\t\t\t\tsquare,\r\n\t\t\t\tsawtooth,\r\n\t\t\t\ttriangle,\r\n\t\t\t\tvibratoGain,\r\n\t\t\t\tvibratoFrequency,\r\n\t\t\t\taudioCtx,\r\n\t\t\t\tinstrumentVolume\r\n\t\t\t);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PLAY_NOTE,\r\n\t\t\t\tpayload: {noteId, note}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const stopNote = (noteId) => (dispatch, getState) => {\r\n\tconst notes = getState().notes;\r\n\tif (notes[noteId] !== undefined && notes[noteId]) {\r\n\t\tnotes[noteId].stop();\r\n\t\tdelete notes[noteId];\r\n\t\tdispatch({\r\n\t\t\ttype: STOP_NOTE,\r\n\t\t\tpayload: notes\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const playDrum =\r\n\t(drumId, drumBufferIndex, instrumentVolume, userId) => (dispatch, getState) => {\r\n\t\tconst {analyser} = getState().waves[userId];\r\n\t\tconst {audioCtx} = getState().audioCtx;\r\n\t\tconst drumsBuffer = getState().drumsBuffer;\r\n\t\tconst notes = getState().notes;\r\n\r\n\t\tif (!notes[drumId] || notes[drumId] === undefined) {\r\n\t\t\tconst drum = new Drum(\r\n\t\t\t\tdrumsBuffer[drumBufferIndex],\r\n\t\t\t\tanalyser,\r\n\t\t\t\taudioCtx,\r\n\t\t\t\tinstrumentVolume\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PLAY_DRUM,\r\n\t\t\t\tpayload: {drumId, drum}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const deleteDrum = (noteId) => (dispatch, getState) => {\r\n\tconst notes = getState().notes;\r\n\r\n\tif (notes[noteId] && notes[noteId] !== undefined) {\r\n\t\tdelete notes[noteId];\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_DRUM,\r\n\t\t\tpayload: notes\r\n\t\t});\r\n\t}\r\n};\r\n","import {useCallback, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {CONNECTED} from \"../connectionConst\";\r\nimport {deleteDrum, playDrum, playNotes, stopNote} from \"../redux/actions/noteActions\";\r\nimport {isTouch} from \"../redux/actions/touchActions\";\r\nimport \"./pianoKey.css\";\r\n\r\nexport default function PianoKey({\r\n\ti,\r\n\tchar,\r\n\tkeysPressed,\r\n\tdrumsSelected,\r\n\tinstrumentSettings\r\n}) {\r\n\tconst dispatch = useDispatch();\r\n\tconst [pressed, setPressed] = useState(false);\r\n\tconst [mouseP, setMouseP] = useState(false);\r\n\tconst [notePlaying, setNotePlaying] = useState(false);\r\n\tconst isTouchState = useSelector((s) => s.isTouch);\r\n\r\n\tconst keyIndex = i + 1;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!mouseP) {\r\n\t\t\tsetPressed(keysPressed.includes(char));\r\n\t\t}\r\n\t}, [keysPressed, char, mouseP]);\r\n\r\n\tfunction mouseDown() {\r\n\t\tsetMouseP(true);\r\n\t\tsetPressed(true);\r\n\t}\r\n\tfunction mouseUp() {\r\n\t\tsetMouseP(false);\r\n\t\tsetPressed(false);\r\n\t}\r\n\tfunction mouseLeave() {\r\n\t\tif (mouseP) {\r\n\t\t\tsetPressed(false);\r\n\t\t}\r\n\t}\r\n\r\n\t//create notes\r\n\tconst {room, ws} = useSelector((s) => s.chat);\r\n\r\n\tconst connectionState = useSelector((s) => s.chat.connectionState);\r\n\r\n\tconst sendNote = useCallback(\r\n\t\t(\r\n\t\t\tfreq,\r\n\t\t\tsine,\r\n\t\t\tsquare,\r\n\t\t\tsawtooth,\r\n\t\t\ttriangle,\r\n\t\t\tvibratoGain,\r\n\t\t\tvibratoFrequency,\r\n\t\t\tinstrumentVolume,\r\n\t\t\tisPlaying\r\n\t\t) => {\r\n\t\t\t// console.log(\"send\")\r\n\t\t\tconst message = {\r\n\t\t\t\troom,\r\n\t\t\t\tmessage: {\r\n\t\t\t\t\tfreq,\r\n\t\t\t\t\tsine,\r\n\t\t\t\t\tsquare,\r\n\t\t\t\t\tsawtooth,\r\n\t\t\t\t\ttriangle,\r\n\t\t\t\t\tvibratoGain,\r\n\t\t\t\t\tvibratoFrequency,\r\n\t\t\t\t\tinstrumentVolume,\r\n\t\t\t\t\tisPlaying\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst stringMessage = JSON.stringify(message);\r\n\r\n\t\t\tif (connectionState === CONNECTED) {\r\n\t\t\t\tws.send(stringMessage);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[room, ws, connectionState]\r\n\t);\r\n\r\n\tconst sendDrum = useCallback(\r\n\t\t(drumpBuffersIndex, instrumentVolume, isPlaying) => {\r\n\t\t\tconst message = {\r\n\t\t\t\troom,\r\n\t\t\t\tmessage: {drumpBuffersIndex, instrumentVolume, isPlaying}\r\n\t\t\t};\r\n\t\t\tconst stringMessage = JSON.stringify(message);\r\n\t\t\tif (connectionState === CONNECTED) {\r\n\t\t\t\tws.send(stringMessage);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[room, ws, connectionState]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst note = i + 28;\r\n\t\tconst freq = Math.pow(Math.pow(2, 1 / 12), note - 49) * 440.0;\r\n\t\tconst noteId = \"local\" + char;\r\n\t\tconst {sine, square, triangle, sawtooth, vibratoGain, vibratoFreq, volume} =\r\n\t\t\tinstrumentSettings;\r\n\t\tif (!drumsSelected && pressed && !notePlaying) {\r\n\t\t\tdispatch(\r\n\t\t\t\tplayNotes(\r\n\t\t\t\t\tnoteId,\r\n\t\t\t\t\tfreq,\r\n\t\t\t\t\tsine,\r\n\t\t\t\t\tsquare,\r\n\t\t\t\t\tsawtooth,\r\n\t\t\t\t\ttriangle,\r\n\t\t\t\t\tvibratoGain,\r\n\t\t\t\t\tvibratoFreq,\r\n\t\t\t\t\tvolume,\r\n\t\t\t\t\t\"local\"\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\tsetNotePlaying(true);\r\n\t\t\tsendNote(\r\n\t\t\t\tfreq,\r\n\t\t\t\tsine,\r\n\t\t\t\tsquare,\r\n\t\t\t\tsawtooth,\r\n\t\t\t\ttriangle,\r\n\t\t\t\tvibratoGain,\r\n\t\t\t\tvibratoFreq,\r\n\t\t\t\tvolume,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t} else if (!drumsSelected && !pressed && notePlaying) {\r\n\t\t\tconst noteId = \"local\" + char;\r\n\t\t\tdispatch(stopNote(noteId));\r\n\t\t\tsetNotePlaying(false);\r\n\t\t\tsendNote(\r\n\t\t\t\tfreq,\r\n\t\t\t\tsine,\r\n\t\t\t\tsquare,\r\n\t\t\t\tsawtooth,\r\n\t\t\t\ttriangle,\r\n\t\t\t\tvibratoGain,\r\n\t\t\t\tvibratoFreq,\r\n\t\t\t\tvolume,\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t} else if (drumsSelected && pressed && !notePlaying) {\r\n\t\t\tconst drumId = \"local\" + char;\r\n\t\t\tdispatch(playDrum(drumId, i, instrumentSettings.volume, \"local\"));\r\n\t\t\tsetNotePlaying(true);\r\n\t\t\tsendDrum(i, volume, true);\r\n\t\t} else if (drumsSelected && !pressed && notePlaying) {\r\n\t\t\tconst drumId = \"local\" + char;\r\n\t\t\tdispatch(deleteDrum(drumId));\r\n\t\t\tsetNotePlaying(false);\r\n\t\t\tsendDrum(i, volume, false);\r\n\t\t}\r\n\t}, [\r\n\t\tpressed,\r\n\t\tdrumsSelected,\r\n\t\tinstrumentSettings,\r\n\t\tchar,\r\n\t\ti,\r\n\t\tnotePlaying,\r\n\t\tdispatch,\r\n\t\tsendNote,\r\n\t\tsendDrum\r\n\t]);\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName={\r\n\t\t\t\tkeyIndex % 12 === 0 ||\r\n\t\t\t\tkeyIndex % 12 === 1 ||\r\n\t\t\t\tkeyIndex % 12 === 3 ||\r\n\t\t\t\tkeyIndex % 12 === 5 ||\r\n\t\t\t\tkeyIndex % 12 === 6 ||\r\n\t\t\t\tkeyIndex % 12 === 8 ||\r\n\t\t\t\tkeyIndex % 12 === 10\r\n\t\t\t\t\t? \"whiteKey\"\r\n\t\t\t\t\t: \"blackKey\"\r\n\t\t\t}\r\n\t\t\tstyle={\r\n\t\t\t\t(keyIndex % 12 === 0 ||\r\n\t\t\t\t\tkeyIndex % 12 === 1 ||\r\n\t\t\t\t\tkeyIndex % 12 === 3 ||\r\n\t\t\t\t\tkeyIndex % 12 === 5 ||\r\n\t\t\t\t\tkeyIndex % 12 === 6 ||\r\n\t\t\t\t\tkeyIndex % 12 === 8 ||\r\n\t\t\t\t\tkeyIndex % 12 === 10) &&\r\n\t\t\t\tpressed\r\n\t\t\t\t\t? {backgroundColor: \"#97a6ff\"}\r\n\t\t\t\t\t: pressed\r\n\t\t\t\t\t? {backgroundColor: \"#abd3ff\"}\r\n\t\t\t\t\t: {}\r\n\t\t\t}\r\n\t\t\tonTouchStart={() => {\r\n\t\t\t\tif (!isTouchState) {\r\n\t\t\t\t\tdispatch(isTouch());\r\n\t\t\t\t}\r\n\t\t\t\tmouseDown();\r\n\t\t\t}}\r\n\t\t\tonTouchEnd={() => mouseUp()}\r\n\t\t\tonMouseDown={() => (!isTouchState ? mouseDown() : null)}\r\n\t\t\tonMouseUp={() => (!isTouchState ? mouseUp() : null)}\r\n\t\t\tonMouseLeave={() => mouseLeave()}\r\n\t\t>\r\n\t\t\t{i % 12 === 0 ? <span className=\"eighth\">C{i / 12 + 1}</span> : null}\r\n\r\n\t\t\t<span className=\"keyName\">{char.toUpperCase()}</span>\r\n\t\t</button>\r\n\t);\r\n}\r\n","import {IS_TOUCH} from \"../consts\";\r\n\r\nexport const isTouch = () => (dispatch, getState) => {\r\n\tdispatch({\r\n\t\ttype: IS_TOUCH\r\n\t});\r\n};\r\n","const keyMapString = \"1234567890qwertyuiopasdfghjklzxcvbnm,.-\";\r\nexport default keyMapString.split(\"\");\r\n","import {useRef, useState} from \"react\";\r\nimport \"./keyboard.css\";\r\nimport PianoKey from \"./PianoKey\";\r\nimport keyMap from \"./keyMap\";\r\n\r\nexport default function Keyboard({keysPressed, drumsSelected, instrumentSettings}) {\r\n\tconst [drag, setDrag] = useState({\r\n\t\tisScrolling: false,\r\n\t\tclientX: 0,\r\n\t\tscrollX: 0\r\n\t});\r\n\r\n\tconst keyboard = useRef(null);\r\n\r\n\tfunction mouseDown(e) {\r\n\t\tsetDrag({\r\n\t\t\tisScrolling: true,\r\n\t\t\tclientX: e.clientX,\r\n\t\t\tscrollX: keyboard.current.scrollLeft\r\n\t\t});\r\n\t}\r\n\tfunction mouseUp(e) {\r\n\t\tsetDrag({...drag, isScrolling: false});\r\n\t}\r\n\tfunction mouseMove(e) {\r\n\t\tconst {clientX, scrollX} = drag;\r\n\t\tif (drag.isScrolling) {\r\n\t\t\tconst scroll = scrollX + -1 * (e.clientX - clientX);\r\n\t\t\tkeyboard.current.scrollLeft = scroll;\r\n\t\t\tsetDrag({...drag, scrollX: scroll, clientX: e.clientX});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"mainKeyboardContainer\"\r\n\t\t\tonMouseDown={(e) => mouseDown(e)}\r\n\t\t\tonMouseUp={(e) => mouseUp(e)}\r\n\t\t\tonMouseMove={(e) => mouseMove(e)}\r\n\t\t\tref={keyboard}\r\n\t\t>\r\n\t\t\t<div className=\"keyboardContainer\">\r\n\t\t\t\t{keyMap.map((ele, i) => (\r\n\t\t\t\t\t<PianoKey\r\n\t\t\t\t\t\ti={i}\r\n\t\t\t\t\t\tchar={ele}\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tkeysPressed={keysPressed}\r\n\t\t\t\t\t\tdrumsSelected={drumsSelected}\r\n\t\t\t\t\t\tinstrumentSettings={instrumentSettings}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default function Sine({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 106 15.9\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<path\r\n\t\t\t\td=\"M1,7.9C3.6,4.5,6.2,1,9.7,1C16.6,1,20.1,14.9,27,14.9S37.4,1,44.4,1s10.4,13.9,17.3,13.9S72.1,1,79,1\r\n\ts10.4,13.9,17.3,13.9c3.5,0,6.1-3.5,8.7-6.9\"\r\n\t\t\t/>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function Square({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 126 18.3\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<path d=\"M0.9,0.9h20.7v16.6h20.7V0.9H63v16.6h20.7V0.9h20.7v16.6h20.7\" />\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function Triangle({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 118 17.2\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<path d=\"M0.9,8.6l9.7-7.8l19.4,15.5L49.3,0.9l19.4,15.5L88.1,0.9l19.4,15.5l9.7-7.7\" />\r\n\t\t</svg>\r\n\t);\r\n}\r\n","export default function Sawtooth({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 112.3 16.5\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<path d=\"M0.9,8.2l18.4-7.4v14.7L56.1,0.9v14.7L93,0.9v14.7l18.4-7.4\" />\r\n\t\t</svg>\r\n\t);\r\n}\r\n","import Sine from \"../svg/Sine\";\r\nimport Square from \"../svg/Square\";\r\nimport Triangle from \"../svg/Triangle\";\r\nimport Sawtooth from \"../svg/Sawtooth\";\r\nimport VolumeIcon from \"../svg/VolumeIcon\";\r\nimport \"./settings.css\";\r\nimport {useRef, useEffect, useState} from \"react\";\r\n\r\nexport default function Settings({\r\n\tinstrumentSettings,\r\n\tsetInstrumentSettings,\r\n\tshowSettings,\r\n\tdrumsSelected\r\n}) {\r\n\tconst settingsBox = useRef(null);\r\n\tconst mainContainer = useRef(null);\r\n\tconst [boxWidth, setBoxWidth] = useState(10000);\r\n\tconst [dimensions, setDimensions] = useState({\r\n\t\twidth: window.innerWidth,\r\n\t\theight: window.innerHeight\r\n\t});\r\n\tconst handleResize = () => {\r\n\t\tsetDimensions({\r\n\t\t\twidth: window.innerWidth,\r\n\t\t\theight: window.innerHeight\r\n\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"resize\", handleResize);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", handleResize);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst bw = settingsBox.current.getBoundingClientRect().width;\r\n\t\tsetBoxWidth(bw);\r\n\t}, [dimensions, drumsSelected]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!showSettings) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tmainContainer.current.style.opacity = \"0\";\r\n\t\t\t}, 1000);\r\n\t\t} else {\r\n\t\t\tmainContainer.current.style.opacity = \"1\";\r\n\t\t}\r\n\t}, [showSettings]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"settingsMainContainer\"\r\n\t\t\tstyle={\r\n\t\t\t\tshowSettings\r\n\t\t\t\t\t? {transform: `translateX(0%)`, transition: \" transform 1s\"}\r\n\t\t\t\t\t: {\r\n\t\t\t\t\t\t\ttransform: `translateX(${(boxWidth + 20) * -1}px)`,\r\n\t\t\t\t\t\t\ttransition: \" transform 1s\"\r\n\t\t\t\t\t  }\r\n\t\t\t}\r\n\t\t\tref={mainContainer}\r\n\t\t>\r\n\t\t\t<div className=\"settingFlexContainer\" ref={settingsBox}>\r\n\t\t\t\t{!drumsSelected ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"sliderCategory\">\r\n\t\t\t\t\t\t\t<h5>Wave Settings</h5>\r\n\t\t\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\tname=\"sineRange\"\r\n\t\t\t\t\t\t\t\t\tid=\"sineRange\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tvalue={instrumentSettings.sine}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\t\t\tsine: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Sine classN={\"waveIcon\"} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\tname=\"squareRange\"\r\n\t\t\t\t\t\t\t\t\tid=\"squareRange\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tvalue={instrumentSettings.square}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\t\t\tsquare: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Square classN={\"waveIcon\"} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\tname=\"triangleRange\"\r\n\t\t\t\t\t\t\t\t\tid=\"triangleRange\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tvalue={instrumentSettings.triangle}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\t\t\ttriangle: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Triangle classN={\"waveIcon\"} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\tname=\"sawtoothRange\"\r\n\t\t\t\t\t\t\t\t\tid=\"sawtoothRange\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tvalue={instrumentSettings.sawtooth}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\t\t\tsawtooth: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Sawtooth classN={\"waveIcon\"} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"sliderCategory\">\r\n\t\t\t\t\t\t\t<h5>Vibrato</h5>\r\n\t\t\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\tname=\"vibratoGainSlider\"\r\n\t\t\t\t\t\t\t\t\tid=\"vibratoGainSlider\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tvalue={instrumentSettings.vibratoGain}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\t\t\tvibratoGain: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"vibratoGainSlider\">Gain</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\tname=\"vibratoFreqRange\"\r\n\t\t\t\t\t\t\t\t\tid=\"vibratoFreqRange\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tvalue={instrumentSettings.vibratoFreq}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\t\t\tvibratoFreq: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"vibratoFreqRange\">Freq</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className=\"sliderCategory\">\r\n\t\t\t\t\t<h5>Volumen</h5>\r\n\t\t\t\t\t<div className=\"sliderContainer\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\tname=\"volumeInstrumentSlider\"\r\n\t\t\t\t\t\t\tid=\"volumeInstrumentSlider\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\tvalue={instrumentSettings.volume}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetInstrumentSettings({\r\n\t\t\t\t\t\t\t\t\t...instrumentSettings,\r\n\t\t\t\t\t\t\t\t\tvolume: parseFloat(e.target.value)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<VolumeIcon classN={\"instrumentVolIcon\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {DISCONNECTED} from \"../../connectionConst\";\r\nimport {\r\n\tADD_USER,\r\n\tCONNECT,\r\n\tDELETE_USER,\r\n\tRESET_CHAT,\r\n\tSET_ROOM,\r\n\tUPDATE_CONNECTION_STATE\r\n} from \"../consts\";\r\n\r\nexport const connect = () => (dispatch, getState) => {\r\n\tconst ws = new WebSocket(\"wss://emjam.nicolasdeheza.com:8080\");\r\n\r\n\tdispatch({\r\n\t\ttype: CONNECT,\r\n\t\tpayload: ws\r\n\t});\r\n};\r\n\r\nexport const updateConnectionState = (state) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: UPDATE_CONNECTION_STATE,\r\n\t\tpayload: state\r\n\t});\r\n};\r\n\r\nexport const setRoom = (room) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: SET_ROOM,\r\n\t\tpayload: room\r\n\t});\r\n};\r\n\r\nexport const addUser = (user) => (dispatch, getState) => {\r\n\tconst {users} = getState().chat;\r\n\tusers.push(user);\r\n\tdispatch({\r\n\t\ttype: ADD_USER,\r\n\t\tpayload: users\r\n\t});\r\n};\r\n\r\nexport const deleteUser = (user) => (dispatch, getState) => {\r\n\tconst {users} = getState().chat;\r\n\tconst usersUpdated = users.filter((ele) => ele !== user);\r\n\tdispatch({\r\n\t\ttype: DELETE_USER,\r\n\t\tpayload: usersUpdated\r\n\t});\r\n};\r\n\r\nexport const resetChat = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: RESET_CHAT,\r\n\t\tpayload: {\r\n\t\t\tws: null,\r\n\t\t\tconnectionState: DISCONNECTED,\r\n\t\t\troom: \"\",\r\n\t\t\tusers: []\r\n\t\t}\r\n\t});\r\n};\r\n","import {useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {DISCONNECTED, FAIL} from \"../connectionConst\";\r\nimport {connect} from \"../redux/actions/chatActions\";\r\n\r\nimport \"./reconnect.css\";\r\n\r\nexport default function Reconnect({connectionState}) {\r\n\tconst dispatch = useDispatch();\r\n\tconst [seconds, setSeconds] = useState(5);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (connectionState === FAIL) {\r\n\t\t\tlet sec = 5;\r\n\t\t\tconst timer = setInterval(() => {\r\n\t\t\t\tsetSeconds(sec);\r\n\t\t\t\tsec--;\r\n\t\t\t\tif (sec === -2) {\r\n\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\tdispatch(connect());\r\n\t\t\t\t\tsetSeconds(5);\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}, [connectionState, dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"reconnectContainer\">\r\n\t\t\t{connectionState === DISCONNECTED ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h3>Connecting to server</h3>\r\n\t\t\t\t\t<p>please wait...</p>\r\n\t\t\t\t</>\r\n\t\t\t) : connectionState === FAIL ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h3>Unable to connect to server</h3>\r\n\t\t\t\t\t<p>trying to reconnect in {seconds} seconds</p>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {addUser, deleteUser, setRoom} from \"../redux/actions/chatActions\";\r\nimport {deleteDrum, playDrum, playNotes, stopNote} from \"../redux/actions/noteActions\";\r\nimport {createWave, deleteWave} from \"../redux/actions/wavesActions\";\r\n\r\nexport default function onMessage(message, dispatch) {\r\n\tconst data = JSON.parse(message.data);\r\n\tswitch (data.status) {\r\n\t\tcase \"connected\":\r\n\t\t\tdispatch(setRoom(data.room));\r\n\t\t\tdata.users.forEach((user) => {\r\n\t\t\t\tdispatch(addUser(user));\r\n\t\t\t\tdispatch(createWave(user));\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase \"newUser\":\r\n\t\t\tdispatch(addUser(data.user));\r\n\t\t\tdispatch(createWave(data.user));\r\n\t\t\tbreak;\r\n\t\tcase \"userExit\":\r\n\t\t\tdispatch(deleteUser(data.user));\r\n\t\t\tdispatch(deleteWave(data.user));\r\n\t\t\tbreak;\r\n\t\tcase \"message\":\r\n\t\t\tif (data.message.hasOwnProperty(\"freq\")) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfreq,\r\n\t\t\t\t\tsine,\r\n\t\t\t\t\tsquare,\r\n\t\t\t\t\tsawtooth,\r\n\t\t\t\t\ttriangle,\r\n\t\t\t\t\tvibratoGain,\r\n\t\t\t\t\tvibratoFrequency,\r\n\t\t\t\t\tinstrumentVolume,\r\n\t\t\t\t\tisPlaying\r\n\t\t\t\t} = data.message;\r\n\t\t\t\t//console.log(data.message);\r\n\t\t\t\tconst noteId = data.user + freq;\r\n\t\t\t\tif (isPlaying) {\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tplayNotes(\r\n\t\t\t\t\t\t\tnoteId,\r\n\t\t\t\t\t\t\tfreq,\r\n\t\t\t\t\t\t\tsine,\r\n\t\t\t\t\t\t\tsquare,\r\n\t\t\t\t\t\t\tsawtooth,\r\n\t\t\t\t\t\t\ttriangle,\r\n\t\t\t\t\t\t\tvibratoGain,\r\n\t\t\t\t\t\t\tvibratoFrequency,\r\n\t\t\t\t\t\t\tinstrumentVolume,\r\n\t\t\t\t\t\t\tdata.user\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(stopNote(noteId));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst {drumpBuffersIndex, instrumentVolume, isPlaying} = data.message;\r\n\t\t\t\tconst drumId = data.user + drumpBuffersIndex;\r\n\t\t\t\tif (isPlaying) {\r\n\t\t\t\t\tdispatch(playDrum(drumId, drumpBuffersIndex, instrumentVolume, data.user));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(deleteDrum(drumId));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n","import {useCallback, useEffect, useRef, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport \"./canvas.css\";\r\n\r\nexport default function Canvas() {\r\n\tconst canvas = useRef(null);\r\n\tconst waves = useSelector((s) => s.waves);\r\n\tconst w = useRef(0);\r\n\tconst h = useRef(0);\r\n\tconst ctx = useRef(null);\r\n\tconst requestRef = useRef(null);\r\n\tconst [wavesKeys, setWavesKeys] = useState([]);\r\n\r\n\t// useEffect(() => {\r\n\t//    console.log(Object.keys(waves).length);\r\n\t// }, [waves])\r\n\r\n\tconst onResize = useCallback(() => {\r\n\t\tconst container = document.getElementById(\"viewCon\");\r\n\t\tw.current = container.offsetWidth;\r\n\t\th.current = container.offsetHeight;\r\n\t\tcanvas.current.width = w.current;\r\n\t\tcanvas.current.height = h.current;\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tonResize();\r\n\t\twindow.addEventListener(\"resize\", onResize);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", onResize);\r\n\t\t};\r\n\t}, [onResize]);\r\n\r\n\t//sort waves\r\n\tuseEffect(() => {\r\n\t\tconst keys = Object.keys(waves);\r\n\t\tconst center = Math.ceil(keys.length / 2);\r\n\t\tconst waveKeys = keys.filter((ele) => ele !== \"local\");\r\n\t\twaveKeys.splice(center - 1, 0, \"local\");\r\n\t\tsetWavesKeys(waveKeys);\r\n\t\t// console.log(waveKeys.length);\r\n\t}, [waves]);\r\n\r\n\t//get context\r\n\tuseEffect(() => {\r\n\t\tctx.current = canvas.current.getContext(\"2d\");\r\n\t}, []);\r\n\r\n\tconst draw = useCallback(() => {\r\n\t\tctx.current.fillStyle = \"rgba(0,0,0,1)\";\r\n\t\tctx.current.fillRect(0, 0, w.current, h.current);\r\n\r\n\t\twavesKeys.forEach((key, i) => {\r\n\t\t\tif (waves[key]) {\r\n\t\t\t\tconst {analyser, bufferLength, dataArr, color} = waves[key];\r\n\t\t\t\tanalyser.getByteTimeDomainData(dataArr);\r\n\r\n\t\t\t\tconst scaX = key === \"local\" ? 0.7 : 0.5;\r\n\t\t\t\tconst rad = 128 * scaX;\r\n\t\t\t\tconst sw = w.current - rad;\r\n\r\n\t\t\t\tconst posX =\r\n\t\t\t\t\t(sw / wavesKeys.length) * i +\r\n\t\t\t\t\t(w.current - (sw / wavesKeys.length) * (wavesKeys.length - 1)) / 2;\r\n\r\n\t\t\t\tmakeGraphics(color, posX, h.current / 1.7, bufferLength, dataArr, scaX, 0.5);\r\n\t\t\t}\r\n\t\t});\r\n\t\trequestRef.current = requestAnimationFrame(draw);\r\n\t}, [waves, wavesKeys]);\r\n\r\n\tfunction makeGraphics(\r\n\t\tcolor,\r\n\t\tposX,\r\n\t\tposY,\r\n\t\tbufferLength,\r\n\t\tdataArr,\r\n\t\tcircleScale,\r\n\t\tgraphScale\r\n\t) {\r\n\t\tctx.current.strokeStyle = color;\r\n\t\tctx.current.lineWidth = 1;\r\n\t\tctx.current.beginPath();\r\n\t\tfor (let i = 0; i < bufferLength; i++) {\r\n\t\t\tlet x = (dataArr[i] - 128) * graphScale;\r\n\t\t\tx = x + posX;\r\n\r\n\t\t\tlet y = (dataArr[bufferLength - i] - 128) * graphScale;\r\n\t\t\ty = y + posY;\r\n\r\n\t\t\tif (i === 0) {\r\n\t\t\t\tctx.current.moveTo(x, y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.current.lineTo(x, y);\r\n\t\t\t}\r\n\t\t}\r\n\t\tctx.current.stroke();\r\n\r\n\t\tctx.current.strokeStyle = color;\r\n\t\tctx.current.lineWidth = 2;\r\n\t\tctx.current.beginPath();\r\n\t\tfor (let i = 0; i < bufferLength; i++) {\r\n\t\t\tlet x =\r\n\t\t\t\tposX + dataArr[i] * circleScale * Math.cos((2 * Math.PI * i) / bufferLength);\r\n\t\t\tlet y =\r\n\t\t\t\tposY + dataArr[i] * circleScale * Math.sin((2 * Math.PI * i) / bufferLength);\r\n\r\n\t\t\tif (i === 0) {\r\n\t\t\t\tctx.current.moveTo(x, y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.current.lineTo(x, y);\r\n\t\t\t}\r\n\t\t}\r\n\t\tctx.current.stroke();\r\n\t}\r\n\r\n\t//draw loop\r\n\tuseEffect(() => {\r\n\t\t//console.log(\"loop\")\r\n\t\trequestRef.current = requestAnimationFrame(draw);\r\n\t\treturn () => cancelAnimationFrame(requestRef.current);\r\n\t}, [draw]);\r\n\r\n\treturn <canvas ref={canvas} className=\"canvas\" />;\r\n}\r\n","import {useCallback, useEffect, useState} from \"react\";\r\nimport {\r\n\tcreateAudioContext,\r\n\tcreateMainGain,\r\n\tupdateMasterGain\r\n} from \"../redux/actions/audioContex\";\r\nimport {createWave, resetWaves} from \"../redux/actions/wavesActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Toolbar from \"./Toolbar\";\r\nimport Keyboard from \"./Keyboard\";\r\nimport Settings from \"./Settings\";\r\nimport keyMap from \"./keyMap\";\r\nimport Reconnect from \"./Reconnect\";\r\n\r\nimport \"./chat.css\";\r\nimport {connect, resetChat, updateConnectionState} from \"../redux/actions/chatActions\";\r\nimport {CONNECTED, FAIL} from \"../connectionConst\";\r\nimport onMessage from \"./onMessage\";\r\nimport {createDrumsBuffer} from \"../redux/actions/drumsBufferAction\";\r\nimport Canvas from \"./Canvas\";\r\n\r\nconst drumsFilesNames = [\r\n\t\"f1\",\r\n\t\"h1\",\r\n\t\"k1\",\r\n\t\"n1\",\r\n\t\"o1\",\r\n\t\"off1\",\r\n\t\"p1\",\r\n\t\"r1\",\r\n\t\"s1\",\r\n\t\"f2\",\r\n\t\"h2\",\r\n\t\"k2\",\r\n\t\"n2\",\r\n\t\"o2\",\r\n\t\"off2\",\r\n\t\"p2\",\r\n\t\"r2\",\r\n\t\"s2\",\r\n\t\"f3\",\r\n\t\"h3\",\r\n\t\"k3\",\r\n\t\"n3\",\r\n\t\"o3\",\r\n\t\"off3\",\r\n\t\"p3\",\r\n\t\"r3\",\r\n\t\"s3\"\r\n];\r\n\r\nexport default function Chat() {\r\n\tconst dispatch = useDispatch();\r\n\tconst [mainVolumen, setMainVolumen] = useState(50);\r\n\tconst [drumsSelected, setDrumsSelected] = useState(false);\r\n\tconst [keysPressed, setKeysPressed] = useState([]);\r\n\tconst [showSettings, setShowSettings] = useState(false);\r\n\tconst [instrumentSettings, setInstrumentSettings] = useState({\r\n\t\tsine: 100,\r\n\t\tsquare: 0,\r\n\t\ttriangle: 0,\r\n\t\tsawtooth: 0,\r\n\t\tvibratoGain: 0,\r\n\t\tvibratoFreq: 0,\r\n\t\tvolume: 50\r\n\t});\r\n\r\n\t//get keys\r\n\tconst keyDown = useCallback((e) => {\r\n\t\tsetKeysPressed((prev) => {\r\n\t\t\tif (prev.includes(e.key.toLocaleLowerCase())) {\r\n\t\t\t\treturn [...prev];\r\n\t\t\t} else {\r\n\t\t\t\treturn [...prev, e.key.toLocaleLowerCase()];\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\tconst keyUp = useCallback((e) => {\r\n\t\tsetKeysPressed((prev) => prev.filter((ele) => ele !== e.key.toLocaleLowerCase()));\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"keydown\", keyDown);\r\n\t\twindow.addEventListener(\"keyup\", keyUp);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"keydown\", keyDown);\r\n\t\t\twindow.removeEventListener(\"keyup\", keyUp);\r\n\t\t};\r\n\t}, [keyDown, keyUp]);\r\n\r\n\t// useEffect(()=>{\r\n\t//     console.log(keysPressed)\r\n\t// },[keysPressed]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(createAudioContext());\r\n\t\tdispatch(createMainGain());\r\n\t\tdispatch(createWave(\"local\"));\r\n\t\tdispatch(createDrumsBuffer(drumsFilesNames, keyMap.length));\r\n\t\tdispatch(connect());\r\n\t}, [dispatch]);\r\n\tuseEffect(() => {\r\n\t\tdispatch(updateMasterGain(mainVolumen / 100));\r\n\t}, [mainVolumen, dispatch]);\r\n\r\n\t//chat\r\n\tconst connectionState = useSelector((s) => s.chat.connectionState);\r\n\tconst ws = useSelector((s) => s.chat.ws);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (ws) {\r\n\t\t\tlet err = false;\r\n\t\t\tws.onerror = (e) => {\r\n\t\t\t\tconsole.log(\"ws error\");\r\n\t\t\t\tdispatch(updateConnectionState(FAIL));\r\n\t\t\t\terr = true;\r\n\t\t\t};\r\n\t\t\tws.onopen = (e) => {\r\n\t\t\t\tconsole.log(\"connected\");\r\n\t\t\t\tdispatch(updateConnectionState(CONNECTED));\r\n\t\t\t};\r\n\t\t\tws.onmessage = (message) => onMessage(message, dispatch);\r\n\r\n\t\t\tws.onclose = (e) => {\r\n\t\t\t\tif (!err) {\r\n\t\t\t\t\tdispatch(updateConnectionState(FAIL));\r\n\t\t\t\t\tdispatch(resetChat());\r\n\t\t\t\t\tdispatch(resetWaves());\r\n\t\t\t\t\tconsole.log(\"close\");\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tif (ws) {\r\n\t\t\t\tws.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}, [ws, dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"chatMainContainer\">\r\n\t\t\t{connectionState !== CONNECTED ? (\r\n\t\t\t\t<Reconnect connectionState={connectionState} />\r\n\t\t\t) : null}\r\n\t\t\t<div className=\"viewControlsContainer\" id=\"viewCon\">\r\n\t\t\t\t<Canvas />\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tmainVolumen={mainVolumen}\r\n\t\t\t\t\tsetMainVolumen={setMainVolumen}\r\n\t\t\t\t\tdrumsSelected={drumsSelected}\r\n\t\t\t\t\tsetDrumsSelected={setDrumsSelected}\r\n\t\t\t\t\tsetShowSettings={setShowSettings}\r\n\t\t\t\t/>\r\n\t\t\t\t<Settings\r\n\t\t\t\t\tinstrumentSettings={instrumentSettings}\r\n\t\t\t\t\tsetInstrumentSettings={setInstrumentSettings}\r\n\t\t\t\t\tshowSettings={showSettings}\r\n\t\t\t\t\tdrumsSelected={drumsSelected}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<Keyboard\r\n\t\t\t\tkeysPressed={keysPressed}\r\n\t\t\t\tdrumsSelected={drumsSelected}\r\n\t\t\t\tinstrumentSettings={instrumentSettings}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {CREATE_DRUMS_BUFFERS} from \"../consts\";\r\n\r\nexport const createDrumsBuffer =\r\n\t(drumsFilesNames, keyMapLength) => async (dispatch, getState) => {\r\n\t\tconst audioCtx = getState().audioCtx.audioCtx;\r\n\r\n\t\tif (audioCtx) {\r\n\t\t\tconst buffers = [];\r\n\t\t\tfor (let i = 0; i < keyMapLength; i++) {\r\n\t\t\t\tconst name = drumsFilesNames[i % drumsFilesNames.length];\r\n\t\t\t\tconst fileDir = `drumsSamples/${name}.wav`;\r\n\t\t\t\tconst res = await fetch(fileDir);\r\n\t\t\t\tconst soundBuffer = await res.arrayBuffer();\r\n\t\t\t\tconst dBuffer = await audioCtx.decodeAudioData(soundBuffer);\r\n\t\t\t\tbuffers.push(dBuffer);\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: CREATE_DRUMS_BUFFERS,\r\n\t\t\t\tpayload: buffers\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n","export default function StartIcon({classN}) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tversion=\"1.1\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\txmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t\t\tviewBox=\"0 0 177 177\"\r\n\t\t\tclassName={classN}\r\n\t\t>\r\n\t\t\t<defs></defs>\r\n\t\t\t<g>\r\n\t\t\t\t<circle cx=\"88.5\" cy=\"88.5\" r=\"87\" />\r\n\t\t\t\t<polygon points=\"137,88.5 62,45.2 62,131.8 \" />\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n}\r\n","import StartIcon from \"../svg/StartIcon\";\r\nimport \"./home.css\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n\treturn (\r\n\t\t<div className=\"HomeMainContainer\">\r\n\t\t\t<header className=\"homeHeader\">\r\n\t\t\t\t<img src=\"/img/logo.svg\" alt=\"e.m. jam\"></img>\r\n\t\t\t\t<h2>Real Time Musical Chat</h2>\r\n\t\t\t</header>\r\n\t\t\t<main className=\"homeMain\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Drums and multi wave synthesizer</li>\r\n\t\t\t\t\t<li>Five users per room</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\tYou can play with the interactive piano of the app or with your keyboard\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>Enjoy with the interactive visuals</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<Link to=\"/chat\">\r\n\t\t\t\t\t\t<div className=\"startContainer\">\r\n\t\t\t\t\t\t\t<StartIcon classN={\"startIcon\"} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span>START</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</button>\r\n\t\t\t\t<p className=\"homeMessage\">\r\n\t\t\t\t\tPlease put your device in landscape position for a better experience\r\n\t\t\t\t</p>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { DISCONNECTED } from \"../../connectionConst\";\r\nimport { ADD_USER, CONNECT, DELETE_USER, RESET_CHAT, SET_ROOM, UPDATE_CONNECTION_STATE } from \"../consts\";\r\n\r\n\r\nconst initialState={\r\n    ws: null, \r\n    connectionState: DISCONNECTED, \r\n    room: \"\", \r\n    users: []\r\n}\r\n\r\nexport default function chatReducer(state=initialState, action){\r\n    switch(action.type){\r\n        case CONNECT:\r\n            return {...state, ws: action.payload, connectionState: DISCONNECTED};\r\n        case UPDATE_CONNECTION_STATE:\r\n            return {...state, connectionState: action.payload};\r\n        case SET_ROOM:\r\n            return {...state, room: action.payload};\r\n        case ADD_USER:\r\n        case DELETE_USER:\r\n            return {...state, users: action.payload};\r\n        case RESET_CHAT:\r\n            return {...action.payload};\r\n        default: return state;\r\n    }\r\n}\r\n","import {createStore, combineReducers, applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport audioContextReducer from \"./reducers/audioContextReducer\";\r\nimport noteReducer from \"./reducers/noteReducer\";\r\nimport waveReducer from \"./reducers/waveReducer\";\r\nimport chatReducer from \"./reducers/chatReducer\";\r\nimport drumsBufferReducer from \"./reducers/drumsBufferReducer\";\r\nimport touchReducer from \"./reducers/touchReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n\taudioCtx: audioContextReducer,\r\n\twaves: waveReducer,\r\n\tnotes: noteReducer,\r\n\tchat: chatReducer,\r\n\tdrumsBuffer: drumsBufferReducer,\r\n\tisTouch: touchReducer\r\n});\r\n\r\nexport default function generateStore() {\r\n\treturn createStore(rootReducer, applyMiddleware(thunk));\r\n}\r\n","import {CREATE_AUDIO_CONTEXT, CREATE_MAIN_GAIN} from \"../consts\";\r\n\r\nexport default function audioContextReducer(state= {}, action){\r\n    switch(action.type){\r\n        case CREATE_AUDIO_CONTEXT:\r\n            return {...state, audioCtx: action.payload};\r\n        case CREATE_MAIN_GAIN:\r\n            return {...state, masterGain: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import {CREATE_WAVE, DELETE_WAVE, RESET_WAVES} from \"../consts\";\r\n\r\nexport default function waveReducer(state= {}, action){\r\n    switch(action.type){\r\n        case CREATE_WAVE:\r\n            const {userId, wave}= action.payload;\r\n            const w= {...state};\r\n            w[userId]= wave;\r\n            return w;\r\n        case DELETE_WAVE:\r\n            return {...action.payload};\r\n        case RESET_WAVES:\r\n            return {...action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import { PLAY_NOTE, STOP_NOTE, PLAY_DRUM, DELETE_DRUM } from \"../consts\";\r\n\r\n\r\nexport default function noteReducer(state = {}, action){\r\n    switch(action.type){\r\n        case PLAY_NOTE:\r\n            const {noteId, note}= action.payload;\r\n            state[noteId]= note;\r\n            return state;\r\n        case PLAY_DRUM:\r\n            const {drumId, drum}= action.payload;\r\n            state[drumId]= drum;\r\n            return state;\r\n        case STOP_NOTE:\r\n            return action.payload;\r\n        case DELETE_DRUM:\r\n            return action.payload\r\n        default:\r\n            return state;\r\n    }\r\n}","import { CREATE_DRUMS_BUFFERS } from \"../consts\";\r\n\r\n\r\nexport default function drumsBufferReducer(store=[], action){\r\n\r\n    switch(action.type){\r\n        case CREATE_DRUMS_BUFFERS:\r\n            return action.payload;\r\n        default: return store;\r\n    }\r\n}","import {IS_TOUCH} from \"../consts\";\r\n\r\nexport default function touchReducer(state = false, action) {\r\n\tif (action.type === IS_TOUCH) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn state;\r\n\t}\r\n}\r\n","import {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Chat from \"./chat/Chat\";\nimport Home from \"./home/Home\";\nimport {Provider} from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nfunction App() {\n\tconst store = generateStore();\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/chat\">\n\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t<Chat />\n\t\t\t\t\t</Provider>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}