{"version":3,"sources":["redux/consts.js","redux/actions/audioContex.js","redux/actions/wavesActions.js","svg/SettingsIcon.js","svg/VolumeIcon.js","svg/UserIcon.js","svg/PianoIcon.js","svg/DrumsIcon.js","chat/Toolbar.js","connectionConst.js","Notes/Notes.js","Notes/Drum.js","redux/actions/noteActions.js","chat/PianoKey.js","chat/keyMap.js","chat/Keyboard.js","svg/Sine.js","svg/Square.js","svg/Triangle.js","svg/Sawtooth.js","chat/Settings.js","redux/actions/chatActions.js","chat/Reconnect.js","chat/onMessage.js","chat/Canvas.js","chat/Chat.js","redux/actions/drumsBufferAction.js","svg/StartIcon.js","home/Home.js","redux/reducers/chatReducer.js","redux/store.js","redux/reducers/audioContextReducer.js","redux/reducers/waveReducer.js","redux/reducers/noteReducer.js","redux/reducers/drumsBufferReducer.js","App.js","reportWebVitals.js","index.js"],"names":["CREATE_AUDIO_CONTEXT","CREATE_MAIN_GAIN","CREATE_WAVE","PLAY_NOTE","STOP_NOTE","PLAY_DRUM","DELETE_DRUM","CONNECT","UPDATE_CONNECTION_STATE","SET_ROOM","ADD_USER","DELETE_USER","DELETE_WAVE","CREATE_DRUMS_BUFFERS","RESET_CHAT","RESET_WAVES","AudioContext","window","webkitAudioContext","colors","colorIndex","createWave","userId","dispatch","getState","audioCtx","masterGain","wave","analyser","createAnalyser","connect","fftSize","bl","frequencyBinCount","bufferLength","dataArr","Uint8Array","color","type","payload","SettigsIcon","classN","version","xmlns","xmlnsXlink","xmlnsa","viewBox","className","d","VolumeIcon","percent","UserIcon","cx","cy","r","PianoIcon","DrumsIcon","Toolbar","mainVolumen","setMainVolumen","drumsSelected","setDrumsSelected","setShowSettings","useState","settingAnimation","setSettingAnimation","numOfUsers","useSelector","s","chat","users","length","id","onClick","prev","onAnimationEnd","htmlFor","name","min","max","value","onChange","e","parseFloat","target","DISCONNECTED","FAIL","CONNECTED","Note","freq","sine","square","sawtooth","triangle","vibratoGain","vibratoFrequency","instrumentVolume","this","oscTotal","oscData","gain","instrumentGain","createGain","setValueAtTime","sustainGain","sustain","vibrato","createOscillator","frequency","oscillators","forEach","osc","oscillator","currentTime","gainOscNode","push","play","now","linearRampToValueAtTime","maxLevel","start","stopTime","stop","Drum","buffer","source","createBufferSource","drumGain","playNotes","noteId","waves","notes","undefined","note","stopNote","playDrum","drumId","drumBufferIndex","drumsBuffer","drum","deleteDrum","PianoKey","i","char","keysPressed","instrumentSettings","useDispatch","pressed","setPressed","mouseP","setMouseP","notePlaying","setNotePlaying","keyIndex","useEffect","includes","room","ws","connectionState","sendNote","useCallback","isPlaying","message","stringMessage","JSON","stringify","send","sendDrum","drumpBuffersIndex","Math","pow","vibratoFreq","volume","style","backgroundColor","onMouseDown","onMouseUp","onMouseLeave","toUpperCase","keyMapString","split","Keyboard","isScrolling","clientX","scrollX","drag","setDrag","keyboard","useRef","current","scrollLeft","mouseDown","onMouseMove","scroll","mouseMove","ref","keyMap","map","ele","Sine","Square","Triangle","Sawtooth","Settings","setInstrumentSettings","showSettings","settingsBox","mainContainer","boxWidth","setBoxWidth","width","innerWidth","height","innerHeight","dimensions","setDimensions","handleResize","addEventListener","removeEventListener","bw","getBoundingClientRect","opacity","setTimeout","transform","transition","WebSocket","updateConnectionState","state","addUser","user","Reconnect","seconds","setSeconds","sec","timer","setInterval","clearInterval","onMessage","data","parse","status","usersUpdated","filter","disconnect","hasOwnProperty","Canvas","canvas","w","h","ctx","requestRef","wavesKeys","setWavesKeys","onResize","container","document","getElementById","offsetWidth","offsetHeight","keys","Object","center","ceil","waveKeys","splice","getContext","draw","fillStyle","fillRect","key","getByteTimeDomainData","scaX","rad","sw","posX","posY","circleScale","graphScale","strokeStyle","lineWidth","beginPath","x","y","moveTo","lineTo","stroke","cos","PI","sin","makeGraphics","requestAnimationFrame","cancelAnimationFrame","drumsFilesNames","Chat","setKeysPressed","keyDown","toLocaleLowerCase","keyUp","keyMapLength","destination","a","buffers","fileDir","fetch","res","arrayBuffer","soundBuffer","decodeAudioData","dBuffer","vol","err","onerror","console","log","onopen","onmessage","onclose","close","StartIcon","points","Home","src","alt","to","initialState","rootReducer","combineReducers","action","store","App","createStore","applyMiddleware","thunk","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8ff5ba08.chunk.js","sourcesContent":["export const CREATE_AUDIO_CONTEXT= \"CREATE_AUDIO_CONTEXT\";\r\nexport const CREATE_MAIN_GAIN= \"CREATE_MAIN_GAIN\"; \r\nexport const CREATE_WAVE= \"CREATE_WAVE\";\r\nexport const PLAY_NOTE= \"PLAY_NOTE\";\r\nexport const STOP_NOTE= \"STOP_NOTE\";\r\nexport const PLAY_DRUM= \"PLAY_DRUM\";\r\nexport const DELETE_DRUM= \"DELETE_DRUM\";\r\nexport const CONNECT= \"CONNECT\";\r\nexport const UPDATE_CONNECTION_STATE= \"UPDATE_CONNECTION_STATE\";\r\nexport const SET_ROOM= \"SET_ROOM\";\r\nexport const ADD_USER= \"ADD_USER\";\r\nexport const DELETE_USER= \"DELETE_USER\";\r\nexport const DELETE_WAVE= \"DELETE_WAVE\";\r\nexport const CREATE_DRUMS_BUFFERS= \"CREATE_DRUMS_BUFFERS\";\r\nexport const RESET_CHAT=\"RESET_CHAT\";\r\nexport const RESET_WAVES=\"RESET_WAVES\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {CREATE_AUDIO_CONTEXT, CREATE_MAIN_GAIN} from \"../consts\"; \r\nconst AudioContext= window.AudioContext || window.webkitAudioContext;\r\n\r\nexport const createAudioContext=()=>(dispatch)=>{\r\n    const audioCtx= new AudioContext();\r\n\r\n    dispatch({\r\n        type: CREATE_AUDIO_CONTEXT,\r\n        payload: audioCtx\r\n     })\r\n}\r\n\r\nexport const createMainGain=()=>(dispatch, getState)=>{\r\n    const {audioCtx}= getState().audioCtx;\r\n    const masterGain= audioCtx.createGain();\r\n    masterGain.connect(audioCtx.destination);\r\n    dispatch({\r\n        type: CREATE_MAIN_GAIN,\r\n        payload: masterGain\r\n    });\r\n}\r\n\r\nexport const updateMasterGain=(vol)=>(dispatch, getState)=>{\r\n    const {masterGain}= getState().audioCtx;\r\n    masterGain.gain.setValueAtTime(vol,0);\r\n};\r\n\r\n\r\n\r\n","import {CREATE_WAVE, DELETE_WAVE, RESET_WAVES} from \"../consts\"; \r\n\r\nconst colors= [\r\n    'rgb(255,0,0)',\r\n    'rgb(0,255,0)',\r\n    'rgb(0,0,255)',\r\n    'rgb(255,255,0)',\r\n    'rgb(0,255,255)',\r\n];\r\nlet colorIndex= 0;\r\n\r\n\r\nexport const createWave=(userId)=>(dispatch, getState)=>{\r\n    const{audioCtx, masterGain}= getState().audioCtx;\r\n    const wave={};\r\n    wave.analyser= audioCtx.createAnalyser();\r\n    wave.analyser.connect(masterGain);\r\n    wave.analyser.fftSize= 2048;\r\n    const bl= wave.analyser.frequencyBinCount;\r\n    wave.bufferLength= bl;\r\n    wave.dataArr= new Uint8Array(bl);\r\n\r\n    //colors\r\n    wave.color= colors[colorIndex];\r\n    colorIndex++;\r\n    colorIndex= colorIndex % 5;\r\n   \r\n    dispatch({\r\n        type: CREATE_WAVE, \r\n        payload:{userId, wave}\r\n    });\r\n\r\n}\r\n\r\nexport const deleteWave=(userId)=>(dispatch, getState)=>{\r\n    const waves= getState().waves;\r\n    const{masterGain}= getState().audioCtx;\r\n    waves[userId].analyser.disconnect(masterGain);\r\n    delete waves[userId];\r\n    dispatch({\r\n        type: DELETE_WAVE, \r\n        payload: waves\r\n    });\r\n}\r\n\r\nexport const resetWaves=()=>(dispatch, getState)=>{\r\n    const waves= getState().waves;\r\n    const{masterGain}= getState().audioCtx;\r\n    for(const wave in waves){\r\n        if(wave !== \"local\"){\r\n            waves[wave].analyser.disconnect(masterGain);\r\n            delete waves[wave];\r\n        }\r\n    }\r\n    dispatch({\r\n        type: RESET_WAVES, \r\n        payload: waves\r\n    });\r\n}\r\n","\r\nexport default function SettigsIcon({classN}){\r\n\r\n    return(\r\n        \r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 68.1 71.5\" className={classN}>\r\n<defs>\r\n</defs>\r\n<path d=\"M66.6,45.9c0-0.8-0.4-1.5-1.1-1.9l-6.2-3.6c0.3-1.5,0.4-3.2,0.4-4.7c0-1.5-0.2-3.2-0.4-4.7l6.2-3.6\r\n\tc0.7-0.4,1.1-1.1,1.1-1.9c0-1.9-5.6-13.2-8.5-13.2c-0.4,0-0.8,0.1-1.1,0.3l-6.2,3.6c-2.4-2-5.1-3.6-8.1-4.7V4.4c0-1-0.7-1.9-1.7-2.1\r\n\tc-2.2-0.5-4.5-0.7-6.9-0.7s-4.7,0.3-6.9,0.7c-1,0.2-1.7,1.1-1.7,2.1v7.2c-3,1.1-5.7,2.7-8.1,4.7l-6.3-3.6c-0.3-0.2-0.7-0.3-1.1-0.3\r\n\tc-2.6,0-8.5,11-8.5,13.2c0,0.8,0.4,1.5,1.1,1.9l6.2,3.6c-0.3,1.5-0.4,3.1-0.4,4.7s0.2,3.2,0.4,4.7L2.6,44c-0.7,0.4-1.1,1.1-1.1,1.9\r\n\tc0,1.9,5.6,13.2,8.5,13.2c0.4,0,0.8-0.1,1.1-0.3l6.2-3.6c2.4,2,5.1,3.6,8.1,4.7v7.2c0,1,0.7,1.9,1.7,2.1c2.2,0.5,4.5,0.7,6.8,0.7\r\n\ts4.7-0.3,6.9-0.7c1.1-0.3,1.8-1.1,1.8-2.1v-7.2c3-1.1,5.7-2.7,8.1-4.7l6.2,3.6c0.3,0.2,0.7,0.3,1.1,0.3\r\n\tC60.7,59.1,66.6,48.2,66.6,45.9z M34.1,46.4c-5.9,0-10.7-4.8-10.7-10.7S28.2,25,34.1,25s10.7,4.8,10.7,10.7S40,46.4,34.1,46.4z\"/>\r\n</svg>\r\n\r\n    )\r\n}","\r\nexport default function VolumeIcon({classN, percent}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 70.7 51.7\" className={classN}>\r\n<defs>\r\n</defs>\r\n<g>\r\n\t<g>\r\n\t\t<path d=\"M37.7,7.2v37.3c0,1.8-1.5,3.3-3.3,3.3L17.6,37.1H4.4c-1.6,0-2.9-1.3-2.9-2.9V17.5c0-1.6,1.3-2.9,2.9-2.9h13.2\r\n\t\t\tL34.4,3.9C36.2,3.9,37.7,5.4,37.7,7.2z\"/>\r\n\t</g>\r\n\t<g>\r\n\t\t<path d=\"M47.1,40.8c-0.5,0-0.9-0.2-1.3-0.5c-0.7-0.7-0.7-1.8,0-2.6c3.1-3.1,4.8-7.3,4.8-11.7c0-4.5-1.8-8.8-5-12\r\n\t\t\tc-0.7-0.7-0.7-1.8,0-2.6c0.7-0.7,1.8-0.7,2.6,0c4,3.9,6.1,9,6.1,14.6c0,5.4-2.1,10.4-5.8,14.3C48,40.6,47.5,40.8,47.1,40.8z\"/>\r\n\t</g>\r\n\t<g>\r\n\t\t<path d=\"M52.3,46.1c-0.5,0-0.9-0.2-1.3-0.5c-0.7-0.7-0.7-1.9,0-2.6c4.5-4.6,7-10.6,7-17c0-6.5-2.6-12.7-7.2-17.2\r\n\t\t\tc-0.7-0.7-0.7-1.8,0-2.6c0.7-0.7,1.8-0.7,2.6,0c5.4,5.3,8.3,12.3,8.3,19.8c0,7.4-2.9,14.3-8.1,19.6C53.2,45.9,52.8,46.1,52.3,46.1\r\n\t\t\tz\"/>\r\n\t</g>\r\n\t<g>\r\n\t\t<path d=\"M58.3,50.7c-0.5,0-0.9-0.2-1.3-0.5c-0.7-0.7-0.7-1.9,0-2.6c5.8-5.8,9-13.5,9-21.7c0-8.2-3.2-15.9-9-21.7\r\n\t\t\tc-0.7-0.7-0.7-1.9,0-2.6c0.7-0.7,1.9-0.7,2.6,0C66.1,8,69.7,16.6,69.7,25.8c0,9.2-3.6,17.8-10.1,24.3\r\n\t\t\tC59.2,50.5,58.8,50.7,58.3,50.7z\"/>\r\n\t</g>\r\n\t<g>\r\n\t\t<path d=\"M66.1,25.8\"/>\r\n\t</g>\r\n</g>\r\n</svg>\r\n\r\n    )\r\n}","export default function UserIcon({classN}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\"\r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 19 38.8\" className={classN}>\r\n<defs>\r\n</defs>\r\n<g>\r\n\t<path d=\"M9.5,14.3L9.5,14.3c5.2,0,9.5,4.3,9.5,9.5v15H0v-15C0,18.5,4.3,14.3,9.5,14.3z\"/>\r\n\t<circle cx=\"9.5\" cy=\"6.8\" r=\"6.8\"/>\r\n</g>\r\n</svg>\r\n\r\n    )\r\n}","export default function PianoIcon({classN}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 126.2 64.3\" className={classN}>\r\n<defs>\r\n</defs>\r\n<g>\r\n\t<g>\r\n\t\t<path  d=\"M117.7,0H8.5C3.8,0,0,3.8,0,8.5v47.3c0,4.7,3.8,8.5,8.5,8.5h109.2c4.7,0,8.5-3.8,8.5-8.5V8.5\r\n\t\t\tC126.2,3.8,122.4,0,117.7,0z M100.5,18.1c0-0.8,0.7-1.5,1.5-1.5h0.3V7.4h1.4v9.2h0.5c0.8,0,1.5,0.7,1.5,1.5v2.2\r\n\t\t\tc0,0.8-0.7,1.5-1.5,1.5h-0.5V27h-1.4v-5.2H102c-0.8,0-1.5-0.7-1.5-1.5V18.1z M89.8,10.6c0-0.8,0.7-1.5,1.5-1.5h0.4V7.4h1.4v1.7\r\n\t\t\th0.4c0.8,0,1.5,0.7,1.5,1.5v2.2c0,0.8-0.7,1.5-1.5,1.5h-0.4V27h-1.4V14.3h-0.4c-0.8,0-1.5-0.7-1.5-1.5V10.6z M22.5,15.5\r\n\t\t\tc0-1.7,1.3-3,3-3h3.2c1.7,0,3,1.3,3,3v3.2c0,1.7-1.3,3-3,3h-3.2c-1.7,0-3-1.3-3-3V15.5z M9.7,15.5c0-1.7,1.3-3,3-3h3.2\r\n\t\t\tc1.7,0,3,1.3,3,3v3.2c0,1.7-1.3,3-3,3h-3.2c-1.7,0-3-1.3-3-3V15.5z M13.5,59.7h-5c-2.2,0-3.9-1.7-3.9-3.9V34.5c0.1,0,0.2,0,0.3,0\r\n\t\t\th6.4v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M25.7,59.7H15.2V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5h6.1v13.3c0,0.6,0.5,1.1,1.1,1.1\r\n\t\t\th1.1V59.7z M37.9,59.7H27.3V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5h8.3V59.7z M35.3,18.8v-3.2c0-1.7,1.3-3,3-3h3.2c1.7,0,3,1.3,3,3\r\n\t\t\tv3.2c0,1.7-1.3,3-3,3h-3.2C36.7,21.8,35.3,20.4,35.3,18.8z M50,59.7H39.5V34.5h8.3v13.3c0,0.6,0.5,1.1,1.1,1.1H50V59.7z\r\n\t\t\t M62.2,59.7H51.7V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5H60v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M74.4,59.7H63.9V48.9H65\r\n\t\t\tc0.6,0,1.1-0.5,1.1-1.1V34.5h8.3V59.7z M86.6,59.7H76V34.5h8.3v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M98.7,59.7H88.2V48.9h1.1\r\n\t\t\tc0.6,0,1.1-0.5,1.1-1.1V34.5h6.1v13.3c0,0.6,0.5,1.1,1.1,1.1h1.1V59.7z M110.9,59.7h-10.5V48.9h1.1c0.6,0,1.1-0.5,1.1-1.1V34.5\r\n\t\t\th8.3V59.7z M111.2,14.2V12c0-0.8,0.7-1.5,1.5-1.5h0.3V7.4h1.4v3.2h0.5c0.8,0,1.5,0.7,1.5,1.5v2.2c0,0.8-0.7,1.5-1.5,1.5h-0.5V27\r\n\t\t\tH113V15.7h-0.3C111.9,15.7,111.2,15.1,111.2,14.2z M121.6,55.8c0,2.2-1.7,3.9-3.9,3.9h-5.1V34.5h9V55.8z\"/>\r\n\t</g>\r\n\t<path  d=\"M17.2,15.5v3.2c0,0.7-0.6,1.3-1.3,1.3h-3.2c-0.7,0-1.3-0.6-1.3-1.3v-3.2c0-0.7,0.6-1.3,1.3-1.3h3.2\r\n\t\tC16.6,14.3,17.2,14.8,17.2,15.5z\"/>\r\n\t<path  d=\"M30,15.5v3.2c0,0.7-0.6,1.3-1.3,1.3h-3.2c-0.7,0-1.3-0.6-1.3-1.3v-3.2c0-0.7,0.6-1.3,1.3-1.3h3.2\r\n\t\tC29.4,14.3,30,14.8,30,15.5z\"/>\r\n\t<path  d=\"M42.8,15.5v3.2c0,0.7-0.6,1.3-1.3,1.3h-3.2c-0.7,0-1.3-0.6-1.3-1.3v-3.2c0-0.7,0.6-1.3,1.3-1.3h3.2\r\n\t\tC42.3,14.3,42.8,14.8,42.8,15.5z\"/>\r\n</g>\r\n</svg>\r\n\r\n    )\r\n}","export default function DrumsIcon({classN}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\tviewBox=\"0 0 95.7 81.4\" className={classN}>\r\n<defs>\r\n</defs>\r\n<g>\r\n\t<path  d=\"M18.7,51.7V79C8.4,75.9,1.3,70.2,1.1,64.7L0.5,39.4C0.5,39.4,2.7,48,18.7,51.7z\"/>\r\n\t<path  d=\"M46.1,52.6v27.7c-3.4,0.6-7,1-10.8,1c-3.5,0-6.9-0.3-10.1-0.8V52.8c3,0.3,6.2,0.5,9.9,0.5\r\n\t\tC39.3,53.4,42.9,53.1,46.1,52.6z\"/>\r\n\t<path  d=\"M70.1,38.3V63c-0.7,6.5-7.6,12.4-17.5,15.7V51.3C67.9,47.2,70.1,38.3,70.1,38.3z\"/>\r\n\t<path  d=\"M85.1,4.1L50.3,18.7c4.5,1,8.4,2.4,11.6,4.1L58,24c-3.5-1.5-7.7-2.6-12.4-3.3l-8.4,3.5c-1.1,0.5-2.2,0.5-2.4,0\r\n\t\tL34.6,24c-0.2-0.5,0.5-1.3,1.6-1.8l47.1-22c1-0.4,2.1,0,2.6,1l0.2,0.4C86.5,2.5,86.1,3.6,85.1,4.1z\"/>\r\n\t<path  d=\"M94,26.2L69,29c0.9,1.4,1.3,3,1.3,4.6c0,9.2-15.5,16.5-35.2,16.5S0,42.9,0,33.6s15.5-16.5,35.2-16.5\r\n\t\tc1,0,2.1,0,3.1,0.1l-4.2,2.7C17,20.2,2.8,26.4,2.8,33.6c0,7.4,14.8,13.7,32.4,13.7s32.4-6.3,32.4-13.7c0-1.5-0.6-2.9-1.7-4.2\r\n\t\tl-23.6,2.7c-1.2,0.2-2.3-0.2-2.3-0.7l0-0.2c-0.1-0.6,0.8-1.1,2.1-1.3l20.9-3.2c0,0,0,0,0,0l3.7-0.6c0,0,0,0,0,0l26.9-4.2\r\n\t\tc1.1-0.1,2,0.6,2.2,1.7l0.1,0.4C95.9,25,95.1,26,94,26.2z\"/>\r\n</g>\r\n</svg>\r\n\r\n    )\r\n}","import SettingsIcon from \"../svg/SettingsIcon\";\r\nimport VolumenIcon from \"../svg/VolumeIcon\";\r\nimport UserIcon from \"../svg/UserIcon\";\r\nimport PianoIcon from \"../svg/PianoIcon\";\r\nimport DrumsIcon from \"../svg/DrumsIcon\"\r\n\r\nimport \"./toolbar.css\"\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nexport default function Toolbar({mainVolumen, setMainVolumen, drumsSelected, setDrumsSelected, setShowSettings}){\r\n    const [settingAnimation, setSettingAnimation]= useState(false);\r\n    const numOfUsers= useSelector(s=>s.chat.users.length + 1);\r\n\r\n    function click(){\r\n        setShowSettings(prev=> !prev);\r\n        setSettingAnimation(true);\r\n    }\r\n\r\n    return(\r\n        <nav className=\"toolbarMainContainer\">\r\n            <div className=\"toolsContainer settingsBtnContainer\">\r\n                <button \r\n                id=\"setBtn\"\r\n                onClick={()=> click()}\r\n                onAnimationEnd={()=>setSettingAnimation(false)}\r\n                className={settingAnimation ? \"stAnimation\" : \"\"}\r\n                >\r\n                    <SettingsIcon classN={\"settingsIcon\"}/>\r\n                </button>\r\n                <label htmlFor=\"setBtn\" className=\"toolsLabel\">Instrument Settings</label>\r\n            </div>\r\n            <div className=\"toolsContainer\">\r\n                <div className=\"rangeVolumenContainer\">\r\n                    <input type=\"range\" \r\n                    name=\"main-volumen\" \r\n                    id=\"main-volumen\" \r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    value={mainVolumen}\r\n                    onChange={(e)=>setMainVolumen(parseFloat(e.target.value))}/>\r\n                    <VolumenIcon classN={\"volumenIcon\"}/>\r\n                </div>\r\n                <label htmlFor=\"main-volumen\" className=\"toolsLabel\">Master Volumen</label>\r\n            </div>\r\n            <div className=\"connectedUsersMainContainer toolsContainer\">\r\n                <div id=\"connected-users\" className=\"connectedUsersContainer\">\r\n                    <UserIcon classN={\"userIcon\"}/>\r\n                    <p>{numOfUsers + \"/5\"}</p>\r\n                </div>\r\n                <label htmlFor=\"connected-users\" className=\"toolsLabel\">Users Connected</label>\r\n            </div>\r\n            <div className=\"toolsContainer\">\r\n                <div id=\"instrument-picker\" className=\"instrumentMainContainer\">\r\n                    <button className=\"instrumentBtn\" onClick={()=>setDrumsSelected(false)}>\r\n                        <PianoIcon classN={drumsSelected ? \"pianoIcon instrumentOff\" : \"pianoIcon\"} />\r\n                    </button>\r\n                    <button className=\"instrumentBtn\" onClick={()=>setDrumsSelected(true)}>\r\n                        <DrumsIcon classN={drumsSelected ? \"drumsIcon\" : \"drumsIcon instrumentOff\"} />\r\n                    </button>\r\n                </div>\r\n                <label htmlFor=\"instrument-picker\" className=\"toolsLabel\">Instrument</label>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","export const DISCONNECTED= \"DISCONNECTED\";\r\nexport const FAIL= \"FAIL\";\r\nexport const CONNECTED= \"CONNECTED\";\r\n\r\n","export default class Note{\r\n    constructor(freq, analyser, sine, square, sawtooth, triangle,vibratoGain, vibratoFrequency, audioCtx, instrumentVolume){\r\n        this.freq= freq;\r\n\r\n        this.oscTotal= sine + square + sawtooth + triangle;\r\n        this.oscData=[\r\n            {type: \"sine\", gain: sine / this.oscTotal},\r\n            {type: \"square\", gain: square / this.oscTotal},\r\n            {type: \"sawtooth\", gain: sawtooth / this.oscTotal},\r\n            {type: \"triangle\", gain: triangle / this.oscTotal}\r\n        ];\r\n\r\n        this.audioCtx= audioCtx;\r\n        \r\n        this.instrumentGain= this.audioCtx.createGain();\r\n        this.instrumentGain.gain.setValueAtTime(instrumentVolume /100, 0);\r\n        this.instrumentGain.connect(analyser);\r\n\r\n        //this.noteGain= masterGain;\r\n        this.sustainGain= this.audioCtx.createGain();\r\n\r\n        this.sustain();\r\n    \r\n        this.vibrato= this.audioCtx.createOscillator();\r\n        this.vibrato.frequency.value= vibratoFrequency;\r\n        this.vibratoGain= this.audioCtx.createGain();\r\n        this.vibratoGain.gain.value= vibratoGain;\r\n        this.vibrato.connect(this.vibratoGain);\r\n\r\n        this.oscillators=[];\r\n\r\n        this.oscData.forEach((osc)=>{\r\n            if(osc.gain > 0){\r\n                const oscillator= this.audioCtx.createOscillator();\r\n                oscillator.frequency.setValueAtTime(this.freq, this.audioCtx.currentTime);\r\n                oscillator.type= osc.type;\r\n                const gainOscNode= this.audioCtx.createGain();\r\n                gainOscNode.gain.setValueAtTime(osc.gain, this.audioCtx.currentTime);\r\n                this.vibratoGain.connect(oscillator.frequency);\r\n                oscillator.connect(gainOscNode);   \r\n                gainOscNode.connect(this.sustainGain);\r\n                this.oscillators.push(oscillator);\r\n            }\r\n        });\r\n        \r\n        this.play();\r\n    }\r\n\r\n    sustain(){\r\n        //podria agregar un argumento de maxLevel para poder controlar el solo del volumen del instrumento \r\n        //ver mas tarde \r\n        const attackTime = 0.2;\r\n        const decayTime = 0.3;\r\n        const maxLevel= 1;\r\n        const sustainLevel = maxLevel - 0.3;\r\n        const now= this.audioCtx.currentTime;\r\n\r\n        this.sustainGain.gain.setValueAtTime(0, now);\r\n        this.sustainGain.gain.linearRampToValueAtTime(1, now + attackTime);\r\n        this.sustainGain.gain.linearRampToValueAtTime( sustainLevel, now + attackTime + decayTime);\r\n        this.sustainGain.connect(this.instrumentGain);\r\n    }\r\n\r\n    play(){\r\n        this.vibrato.start();\r\n        this.oscillators.forEach(osc=>{\r\n            osc.start();\r\n        });\r\n\r\n    }\r\n\r\n\r\n    stop(){\r\n        const stopTime= this.audioCtx.currentTime + 0.2;\r\n       // console.log(\"current time: \" + this.audioCtx.currentTime);\r\n        //console.log(\"stop1\");\r\n        this.sustainGain.gain.linearRampToValueAtTime(0, stopTime);\r\n      \r\n        //console.log(\"stop2\");\r\n        this.oscillators.forEach(osc=>{\r\n    \r\n            osc.stop(stopTime);\r\n            \r\n        });\r\n        this.vibrato.stop(stopTime);\r\n    }\r\n\r\n}","export default class Drum{\r\n    constructor(buffer, analyser, audioCtx, instrumentVolume){\r\n        const source= audioCtx.createBufferSource();\r\n        source.buffer= buffer;\r\n        const drumGain= audioCtx.createGain();\r\n        drumGain.gain.setValueAtTime((instrumentVolume /100) * 4 , 0);\r\n        source.connect(drumGain);\r\n        drumGain.connect(analyser);\r\n        source.start();\r\n    }\r\n}","import Note from \"../../Notes/Notes\";\r\nimport Drum from \"../../Notes/Drum\";\r\nimport { PLAY_NOTE, STOP_NOTE, PLAY_DRUM, DELETE_DRUM } from \"../consts\";\r\n\r\nexport const playNotes=(noteId, freq, sine, square, sawtooth, triangle,vibratoGain, vibratoFrequency, instrumentVolume, userId)=>\r\n(dispatch, getState)=>{\r\n    const {analyser}= getState().waves[userId];\r\n    const {audioCtx}= getState().audioCtx;\r\n    const notes= getState().notes;\r\n\r\n    if(!notes[noteId] || notes[noteId] === undefined){\r\n        const note= new Note(freq, analyser, sine, square, sawtooth, triangle,\r\n            vibratoGain, vibratoFrequency, audioCtx, instrumentVolume);\r\n        dispatch({\r\n            type: PLAY_NOTE,\r\n            payload: {noteId, note}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const stopNote= (noteId)=> (dispatch, getState)=>{\r\n    const notes= getState().notes;\r\n    if(notes[noteId] !== undefined && notes[noteId]){\r\n        notes[noteId].stop();\r\n        delete notes[noteId];\r\n        dispatch({\r\n            type: STOP_NOTE, \r\n            payload: notes\r\n        });\r\n    }\r\n}\r\n\r\nexport const playDrum=(drumId, drumBufferIndex, instrumentVolume,userId)=>(dispatch, getState)=>{\r\n    const {analyser}= getState().waves[userId];\r\n    const {audioCtx}= getState().audioCtx;\r\n    const drumsBuffer= getState().drumsBuffer;\r\n    const notes= getState().notes;\r\n\r\n    if(!notes[drumId] || notes[drumId] === undefined){\r\n        const drum= new Drum(drumsBuffer[drumBufferIndex], analyser, audioCtx, instrumentVolume);\r\n    \r\n        dispatch({\r\n            type: PLAY_DRUM, \r\n            payload: {drumId, drum}\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteDrum=(noteId)=>(dispatch, getState)=>{\r\n    const notes= getState().notes;\r\n\r\n    if(notes[noteId] && notes[noteId] !== undefined){\r\n        delete notes[noteId];\r\n    \r\n        dispatch({\r\n            type: DELETE_DRUM, \r\n            payload: notes\r\n        });\r\n    }\r\n\r\n}","import { useCallback, useEffect, useState } from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { CONNECTED } from \"../connectionConst\";\r\nimport { deleteDrum, playDrum, playNotes, stopNote } from \"../redux/actions/noteActions\";\r\nimport \"./pianoKey.css\";\r\n\r\nexport default function PianoKey({i, char, keysPressed, drumsSelected, instrumentSettings}){\r\n    const dispatch= useDispatch();\r\n    const [pressed, setPressed]= useState(false);\r\n    const [mouseP, setMouseP ]= useState(false);\r\n    const [notePlaying, setNotePlaying]= useState(false);\r\n\r\n    const keyIndex= i + 1;\r\n    \r\n\r\n    useEffect(()=>{\r\n        if(!mouseP){\r\n            setPressed(keysPressed.includes(char));\r\n        }\r\n    }, [keysPressed, char, mouseP]);\r\n\r\n    function mouseDown(){\r\n        setMouseP(true);\r\n        setPressed(true);\r\n    }\r\n    function mouseUp(){\r\n        setMouseP(false);\r\n        setPressed(false);\r\n    }\r\n    function mouseLeave(){\r\n        if(mouseP){\r\n            setPressed(false);\r\n        }\r\n    }\r\n\r\n    //create notes\r\n    const {room, ws}= useSelector(s=> s.chat);\r\n\r\n    const connectionState= useSelector(s=> s.chat.connectionState);\r\n\r\n    const sendNote= useCallback((freq, sine, square, sawtooth, triangle, vibratoGain, vibratoFrequency, \r\n        instrumentVolume, isPlaying)=>{\r\n           // console.log(\"send\")\r\n            const message={\r\n                room,\r\n                message: {freq, sine, square, sawtooth, triangle, vibratoGain, vibratoFrequency, instrumentVolume, isPlaying}\r\n            };\r\n            const stringMessage= JSON.stringify(message);\r\n        \r\n            if(connectionState === CONNECTED){\r\n                ws.send(stringMessage);\r\n            }\r\n    },[room, ws, connectionState]);\r\n\r\n    const sendDrum= useCallback((drumpBuffersIndex, instrumentVolume, isPlaying)=>{\r\n        const message={\r\n            room,\r\n            message:{drumpBuffersIndex, instrumentVolume, isPlaying}\r\n        }\r\n        const stringMessage= JSON.stringify(message);\r\n        if(connectionState === CONNECTED){\r\n            ws.send(stringMessage);\r\n        }\r\n    },[room, ws, connectionState]);\r\n\r\n    useEffect(()=>{\r\n        const note= i + 28;\r\n        const freq= Math.pow(Math.pow(2, 1/12), note - 49 ) * 440.0;\r\n        const noteId= \"local\" + char;\r\n        const {sine, square, triangle, sawtooth, vibratoGain, vibratoFreq,volume }= instrumentSettings;\r\n        if(!drumsSelected && pressed && !notePlaying){\r\n            dispatch(playNotes(noteId, freq, sine, square, sawtooth, triangle,vibratoGain, vibratoFreq, volume, \"local\"));\r\n            setNotePlaying(true);\r\n            sendNote(freq, sine, square, sawtooth, triangle, vibratoGain, vibratoFreq, volume, true);\r\n        }else if(!drumsSelected && !pressed && notePlaying){\r\n            const noteId= \"local\" + char;\r\n            dispatch(stopNote(noteId));\r\n            setNotePlaying(false);\r\n            sendNote(freq, sine, square, sawtooth, triangle, vibratoGain, vibratoFreq, volume, false);\r\n        }else if( drumsSelected && pressed && !notePlaying){\r\n            const drumId= \"local\" + char;\r\n            dispatch(playDrum(drumId, i, instrumentSettings.volume, \"local\"));\r\n            setNotePlaying(true);\r\n            sendDrum(i, volume, true);\r\n        }else if(drumsSelected && !pressed && notePlaying){\r\n            const drumId= \"local\" + char;\r\n            dispatch(deleteDrum(drumId));\r\n            setNotePlaying(false);\r\n            sendDrum(i, volume, false);\r\n        }\r\n    },[pressed, drumsSelected, instrumentSettings, char, i, notePlaying, dispatch, sendNote, sendDrum]);\r\n\r\n\r\n    return(\r\n        <button\r\n        className={\r\n            keyIndex % 12 === 0 || keyIndex % 12 === 1 || keyIndex % 12 === 3 ||\r\n            keyIndex % 12 === 5 || keyIndex % 12 === 6 || keyIndex % 12 === 8 ||\r\n            keyIndex % 12 === 10 ? \"whiteKey\" : \"blackKey\"\r\n        }\r\n        style={\r\n            (keyIndex % 12 === 0 || keyIndex % 12 === 1 || keyIndex % 12 === 3 ||\r\n            keyIndex % 12 === 5 || keyIndex % 12 === 6 || keyIndex % 12 === 8 ||\r\n            keyIndex % 12 === 10 )&& pressed ?\r\n            {backgroundColor: \"#97a6ff\"} : \r\n            pressed ? {backgroundColor: \"#abd3ff\"} : {}\r\n        }\r\n            onMouseDown={()=> mouseDown()}\r\n            onMouseUp= {()=> mouseUp()}\r\n            onMouseLeave= {()=> mouseLeave()}\r\n        >\r\n            {\r\n                i % 12 === 0 ?\r\n                (<span className=\"eighth\">C{i / 12 + 1}</span>) : (null)\r\n            }\r\n\r\n            <span className=\"keyName\">{char.toUpperCase()}</span>\r\n\r\n        </button>\r\n    )\r\n}","const keyMapString=\"1234567890qwertyuiopasdfghjklzxcvbnm,.-\"\r\nexport default keyMapString.split(\"\");","import { useRef, useState } from \"react\";\r\nimport \"./keyboard.css\"\r\nimport PianoKey from \"./PianoKey\";\r\nimport keyMap from \"./keyMap\";\r\n\r\n                       \r\nexport default function Keyboard({keysPressed, drumsSelected, instrumentSettings}){\r\n\r\n    const [drag, setDrag]= useState({\r\n        isScrolling: false, \r\n        clientX:0,\r\n        scrollX:0\r\n    });\r\n\r\n    const keyboard= useRef(null);\r\n\r\n    function mouseDown(e){\r\n        setDrag({isScrolling: true, clientX: e.clientX, scrollX: keyboard.current.scrollLeft});\r\n    }\r\n    function mouseUp(e){\r\n        setDrag({...drag, isScrolling: false});\r\n    }\r\n    function mouseMove(e){\r\n        const {clientX, scrollX}= drag;\r\n        if(drag.isScrolling){\r\n            const scroll= scrollX + (-1 * (e.clientX - clientX));\r\n            keyboard.current.scrollLeft= scroll;\r\n            setDrag({...drag, scrollX: scroll, clientX: e.clientX});\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"mainKeyboardContainer\"\r\n        onMouseDown={(e)=> mouseDown(e)}\r\n        onMouseUp= {(e)=> mouseUp(e)}\r\n        onMouseMove={(e)=> mouseMove(e)}\r\n        ref={keyboard}\r\n        >\r\n        <div className=\"keyboardContainer\">\r\n            {\r\n                keyMap.map((ele, i)=>(\r\n                    <PianoKey i={i} char={ele} key={i} keysPressed={keysPressed} \r\n                    drumsSelected={drumsSelected} instrumentSettings={instrumentSettings}/>\r\n                ))\r\n            }\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nexport default function Sine({classN}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 106 15.9\" className={classN}>\r\n<defs>\r\n</defs>\r\n<path d=\"M1,7.9C3.6,4.5,6.2,1,9.7,1C16.6,1,20.1,14.9,27,14.9S37.4,1,44.4,1s10.4,13.9,17.3,13.9S72.1,1,79,1\r\n\ts10.4,13.9,17.3,13.9c3.5,0,6.1-3.5,8.7-6.9\"/>\r\n</svg>\r\n\r\n    )\r\n}","\r\nexport default function Square({classN}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 126 18.3\" className={classN}>\r\n<defs>\r\n</defs>\r\n<path d=\"M0.9,0.9h20.7v16.6h20.7V0.9H63v16.6h20.7V0.9h20.7v16.6h20.7\"/>\r\n</svg>\r\n\r\n    )\r\n}","\r\nexport default function Triangle({classN}){\r\n\r\n    return(\r\n        <svg version=\"1.1\"\r\n             xmlns=\"http://www.w3.org/2000/svg\" \r\n             xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n             xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n             viewBox=\"0 0 118 17.2\" className={classN}>\r\n        <defs>\r\n        </defs>\r\n        <path d=\"M0.9,8.6l9.7-7.8l19.4,15.5L49.3,0.9l19.4,15.5L88.1,0.9l19.4,15.5l9.7-7.7\"/>\r\n        </svg>\r\n        \r\n\r\n    )\r\n}","\r\nexport default function Sawtooth({classN}){\r\n\r\n    return(\r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 112.3 16.5\" className={classN}>\r\n<defs>\r\n</defs>\r\n<path d=\"M0.9,8.2l18.4-7.4v14.7L56.1,0.9v14.7L93,0.9v14.7l18.4-7.4\"/>\r\n</svg>\r\n\r\n    )\r\n}","import Sine from \"../svg/Sine\";\r\nimport Square from \"../svg/Square\";\r\nimport Triangle from \"../svg/Triangle\";\r\nimport Sawtooth from \"../svg/Sawtooth\";\r\nimport VolumeIcon from \"../svg/VolumeIcon\";\r\nimport \"./settings.css\";\r\nimport { useRef, useEffect, useState } from \"react\";\r\n\r\nexport default function Settings({instrumentSettings, setInstrumentSettings, showSettings, drumsSelected}){\r\n\r\n    const settingsBox= useRef(null);\r\n    const mainContainer= useRef(null);\r\n    const [boxWidth, setBoxWidth]= useState(10000);\r\n    const [dimensions, setDimensions] = useState({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n      const handleResize = () => {\r\n        setDimensions({\r\n          width: window.innerWidth,\r\n          height: window.innerHeight,\r\n        });\r\n      }\r\n      useEffect(() => {\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return ()=>{\r\n            window.removeEventListener(\"resize\", handleResize);\r\n        }   \r\n      }, []);\r\n\r\n    useEffect(()=>{\r\n       const bw= settingsBox.current.getBoundingClientRect().width;\r\n       setBoxWidth(bw);\r\n    },[dimensions, drumsSelected]);\r\n\r\n    useEffect(()=>{\r\n        if(!showSettings){\r\n            setTimeout(()=>{\r\n                mainContainer.current.style.opacity= \"0\";\r\n            }, 1000);\r\n        }else{\r\n            mainContainer.current.style.opacity= \"1\";\r\n        }\r\n    },[showSettings]);\r\n\r\n\r\n    return(\r\n        \r\n        <div className=\"settingsMainContainer\"\r\n        style= {showSettings ? \r\n            {transform: `translateX(0%)`,\r\n            transition: \" transform 1s\"\r\n            } : \r\n            {transform: `translateX(${(boxWidth + 20 )* -1}px)`,\r\n            transition: \" transform 1s\"\r\n            }} \r\n            ref={mainContainer}\r\n        >\r\n            <div className=\"settingFlexContainer\" ref={settingsBox}>\r\n                {\r\n                    ! drumsSelected ?\r\n                    (\r\n                        <>\r\n                            <div className=\"sliderCategory\">\r\n                                <h5>Wave Settings</h5>\r\n                                <div className=\"sliderContainer\">\r\n                                    <input type=\"range\" name=\"sineRange\" id=\"sineRange\" min=\"0\" max=\"100\"\r\n                                    value={instrumentSettings.sine} \r\n                                    onChange={(e)=> setInstrumentSettings({...instrumentSettings, sine: parseFloat(e.target.value)})} />\r\n                                    <Sine classN={\"waveIcon\"} />\r\n                                </div>\r\n                                <div className=\"sliderContainer\">\r\n                                    <input type=\"range\" name=\"squareRange\" id=\"squareRange\" min=\"0\" max=\"100\"\r\n                                    value={instrumentSettings.square} \r\n                                    onChange={(e)=> setInstrumentSettings({...instrumentSettings, square: parseFloat(e.target.value)})} />\r\n                                    <Square classN={\"waveIcon\"} />\r\n                                </div>\r\n                                <div className=\"sliderContainer\">\r\n                                    <input type=\"range\" name=\"triangleRange\" id=\"triangleRange\" min=\"0\" max=\"100\"\r\n                                    value={instrumentSettings.triangle} \r\n                                    onChange={(e)=> setInstrumentSettings({...instrumentSettings, triangle: parseFloat(e.target.value)})} />\r\n                                    <Triangle classN={\"waveIcon\"} />\r\n                                </div>\r\n                                <div className=\"sliderContainer\">\r\n                                    <input type=\"range\" name=\"sawtoothRange\" id=\"sawtoothRange\" min=\"0\" max=\"100\"\r\n                                    value={instrumentSettings.sawtooth} \r\n                                    onChange={(e)=> setInstrumentSettings({...instrumentSettings, sawtooth: parseFloat(e.target.value)})} />\r\n                                    <Sawtooth classN={\"waveIcon\"} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"sliderCategory\">\r\n                                <h5>Vibrato</h5>\r\n                                <div className=\"sliderContainer\">\r\n                                    <input type=\"range\" name=\"vibratoGainSlider\" id=\"vibratoGainSlider\" min=\"0\" max=\"100\"\r\n                                    value={instrumentSettings.vibratoGain} \r\n                                    onChange={(e)=> setInstrumentSettings({...instrumentSettings, vibratoGain: parseFloat(e.target.value)})} />\r\n                                    <label htmlFor=\"vibratoGainSlider\">Gain</label>\r\n                                </div>\r\n                                <div className=\"sliderContainer\">\r\n                                    <input type=\"range\" name=\"vibratoFreqRange\" id=\"vibratoFreqRange\" min=\"0\" max=\"100\"\r\n                                    value={instrumentSettings.vibratoFreq} \r\n                                    onChange={(e)=> setInstrumentSettings({...instrumentSettings, vibratoFreq: parseFloat(e.target.value)})} />\r\n                                    <label htmlFor=\"vibratoFreqRange\">Freq</label>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                        \r\n                    ) : (null)\r\n                }\r\n                <div className=\"sliderCategory\">\r\n                    <h5>Volumen</h5>\r\n                    <div className=\"sliderContainer\">\r\n                        <input type=\"range\" name=\"volumeInstrumentSlider\" id=\"volumeInstrumentSlider\" min=\"0\" max=\"100\"\r\n                        value={instrumentSettings.volume} \r\n                        onChange={(e)=> setInstrumentSettings({...instrumentSettings, volume: parseFloat(e.target.value)})} />\r\n                        <VolumeIcon classN={\"instrumentVolIcon\"} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { DISCONNECTED } from \"../../connectionConst\";\r\nimport { ADD_USER, CONNECT, DELETE_USER, RESET_CHAT, SET_ROOM, UPDATE_CONNECTION_STATE } from \"../consts\";\r\n\r\n\r\nexport const connect=()=>(dispatch, getState)=>{\r\n    const ws= new WebSocket(\"ws://localhost:8080\");\r\n\r\n    dispatch({\r\n        type: CONNECT,\r\n        payload: ws\r\n    });\r\n}\r\n\r\nexport const updateConnectionState=(state)=>(dispatch)=>{\r\n    dispatch({\r\n        type: UPDATE_CONNECTION_STATE, \r\n        payload: state\r\n    })\r\n}\r\n\r\nexport const setRoom=(room)=>(dispatch)=>{\r\n    dispatch({\r\n        type: SET_ROOM,\r\n        payload: room \r\n    });\r\n}\r\n\r\nexport const addUser=(user)=>(dispatch, getState)=>{\r\n    const {users}= getState().chat;\r\n    users.push(user);\r\n    dispatch({\r\n        type:ADD_USER, \r\n        payload: users\r\n    });\r\n}\r\n\r\nexport const deleteUser=(user)=>(dispatch, getState)=>{\r\n    const {users}= getState().chat;\r\n    const usersUpdated= users.filter(ele=> ele !== user);\r\n    dispatch({\r\n        type: DELETE_USER, \r\n        payload: usersUpdated\r\n    });\r\n}\r\n\r\nexport const resetChat=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: RESET_CHAT, \r\n        payload:{\r\n            ws: null, \r\n            connectionState: DISCONNECTED, \r\n            room: \"\", \r\n            users: []\r\n        }\r\n    });\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {DISCONNECTED, FAIL} from \"../connectionConst\";\r\nimport { connect } from \"../redux/actions/chatActions\";\r\n\r\nimport \"./reconnect.css\"\r\n\r\nexport default function Reconnect({connectionState}){\r\n    const dispatch= useDispatch();\r\n    const [seconds, setSeconds]=useState(5);\r\n\r\n    useEffect(()=>{\r\n        if(connectionState === FAIL){\r\n            let sec= 5;\r\n            const timer=setInterval(()=>{\r\n                setSeconds(sec);\r\n                sec --;\r\n                if(sec === -2){\r\n                    clearInterval(timer);\r\n                    dispatch(connect());\r\n                    setSeconds(5);\r\n                }\r\n            }, 1000);\r\n        }\r\n    },[connectionState, dispatch]);\r\n\r\n    return(\r\n        <div className=\"reconnectContainer\">\r\n            {\r\n                connectionState === DISCONNECTED ?\r\n                (\r\n                    <>\r\n                    <h3>Connecting to server</h3>\r\n                    <p>please wait...</p>\r\n                    </>\r\n                ) : connectionState === FAIL ? \r\n                (\r\n                    <>\r\n                    <h3>Unable to connect to server</h3>\r\n                    <p>trying to reconnect in {seconds} seconds</p>\r\n                    </>\r\n                ): (null)\r\n            }\r\n\r\n        </div>\r\n    )\r\n}","import { addUser, deleteUser, setRoom } from \"../redux/actions/chatActions\";\r\nimport { deleteDrum, playDrum, playNotes, stopNote } from \"../redux/actions/noteActions\";\r\nimport { createWave, deleteWave } from \"../redux/actions/wavesActions\";\r\n\r\n\r\nexport default function onMessage(message, dispatch){\r\n    const data= JSON.parse(message.data);\r\n    switch(data.status){\r\n        case \"connected\":\r\n            dispatch(setRoom(data.room));\r\n            data.users.forEach(user=>{\r\n                dispatch(addUser(user));\r\n                dispatch(createWave(user));\r\n            });\r\n            break;\r\n        case \"newUser\":\r\n            dispatch(addUser(data.user));\r\n            dispatch(createWave(data.user));\r\n            break;\r\n        case \"userExit\":\r\n            dispatch(deleteUser(data.user));\r\n            dispatch(deleteWave(data.user));\r\n            break;\r\n        case \"message\":\r\n            if(data.message.hasOwnProperty('freq')){\r\n                const{freq, sine, square, sawtooth, triangle, vibratoGain,\r\n                    vibratoFrequency, instrumentVolume, isPlaying} = data.message;\r\n                    //console.log(data.message);\r\n                const noteId= data.user + freq;\r\n                if(isPlaying){\r\n                    dispatch(playNotes(noteId, freq, sine, square, sawtooth, triangle,\r\n                         vibratoGain, vibratoFrequency, instrumentVolume, data.user));\r\n                }else{\r\n                    dispatch(stopNote(noteId));\r\n                }\r\n\r\n            }else{\r\n                const {drumpBuffersIndex, instrumentVolume, isPlaying}= data.message;\r\n                const drumId= data.user + drumpBuffersIndex;\r\n                if(isPlaying){\r\n                    dispatch(playDrum(drumId, drumpBuffersIndex, instrumentVolume, data.user));\r\n                }else{\r\n                    dispatch(deleteDrum(drumId));\r\n                }\r\n            }\r\n            break;\r\n        default: break;\r\n    }\r\n}","import { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./canvas.css\";\r\n\r\n\r\nexport default function Canvas(){\r\n    const canvas= useRef(null);\r\n    const waves= useSelector(s=>s.waves);\r\n    const w =useRef(0);\r\n    const h= useRef(0);\r\n    const ctx= useRef(null);\r\n    const requestRef= useRef(null);\r\n    const [wavesKeys, setWavesKeys]= useState([]);\r\n\r\n    // useEffect(() => {\r\n    //    console.log(Object.keys(waves).length);\r\n    // }, [waves])\r\n\r\n    const onResize= useCallback(()=>{\r\n        const container= document.getElementById('viewCon');\r\n        w.current= container.offsetWidth;\r\n        h.current= container.offsetHeight;\r\n        canvas.current.width= w.current;\r\n        canvas.current.height= h.current;\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        onResize();\r\n        window.addEventListener('resize', onResize);\r\n\r\n        return()=>{\r\n            window.removeEventListener('resize', onResize);\r\n        }\r\n    },[onResize]);\r\n\r\n    //sort waves\r\n    useEffect(()=>{\r\n        const keys= Object.keys(waves);\r\n        const center= Math.ceil(keys.length / 2);\r\n        const waveKeys=  keys.filter(ele=> ele !== \"local\");\r\n        waveKeys.splice(center -1 , 0, \"local\");\r\n        setWavesKeys(waveKeys);\r\n       // console.log(waveKeys.length);\r\n    },[waves]);\r\n\r\n    //get context\r\n    useEffect(()=>{\r\n        ctx.current= canvas.current.getContext(\"2d\");\r\n    },[]);\r\n\r\n    const draw= useCallback(()=>{\r\n        ctx.current.fillStyle= \"rgba(0,0,0,1)\";\r\n        ctx.current.fillRect(0,0,w.current,h.current);\r\n\r\n        wavesKeys.forEach((key, i)=>{\r\n            if(waves[key]){\r\n                const {analyser, bufferLength, dataArr, color}= waves[key];\r\n                analyser.getByteTimeDomainData(dataArr);\r\n    \r\n                const scaX= key === \"local\" ? 0.7 : 0.5;\r\n                const rad= 128 * scaX;\r\n                const sw= w.current - rad;\r\n        \r\n                const posX= sw / wavesKeys.length  * i + ( w.current - sw / wavesKeys.length * (wavesKeys.length - 1)) / 2;\r\n        \r\n                makeGraphics(color, posX, h.current/1.7, bufferLength, dataArr, scaX, 0.5);\r\n            }\r\n        });\r\n        requestRef.current= requestAnimationFrame(draw);\r\n    },[waves, wavesKeys]);\r\n\r\n    function makeGraphics(color, posX, posY, bufferLength, dataArr, circleScale, graphScale){\r\n        ctx.current.strokeStyle = color;\r\n        ctx.current.lineWidth = 1;\r\n        ctx.current.beginPath();\r\n        for(let i= 0; i < bufferLength; i ++){\r\n    \r\n            let x= (dataArr[i] - 128) * graphScale ;\r\n            x= x + posX; \r\n        \r\n            let y= (dataArr[bufferLength - i] - 128) * graphScale;\r\n            y= y + posY;\r\n    \r\n            if(i === 0){\r\n                ctx.current.moveTo(x,y);\r\n            }else{\r\n                ctx.current.lineTo(x,y);\r\n            }\r\n        }\r\n        ctx.current.stroke();\r\n    \r\n        ctx.current.strokeStyle = color;\r\n        ctx.current.lineWidth = 2;\r\n        ctx.current.beginPath();\r\n        for(let i= 0; i < bufferLength; i++){\r\n            let x= posX + (dataArr[i] * circleScale) * Math.cos(2 * Math.PI * i / bufferLength);\r\n            let y= posY + (dataArr[i] * circleScale) * Math.sin(2 * Math.PI * i / bufferLength);\r\n    \r\n            if(i === 0){\r\n                ctx.current.moveTo(x,y);\r\n            }else{\r\n                ctx.current.lineTo(x,y);\r\n            }\r\n    \r\n        }\r\n        ctx.current.stroke();\r\n    }\r\n\r\n    //draw loop\r\n    useEffect(()=>{\r\n        //console.log(\"loop\")\r\n        requestRef.current= requestAnimationFrame(draw);\r\n        return ()=> cancelAnimationFrame(requestRef.current);\r\n    },[draw]);\r\n\r\n\r\n    return(\r\n        <canvas ref={canvas}  className=\"canvas\"/>\r\n    )\r\n}","import { useCallback, useEffect, useState } from \"react\";\r\nimport {createAudioContext, createMainGain, updateMasterGain} from \"../redux/actions/audioContex\";\r\nimport { createWave, resetWaves } from \"../redux/actions/wavesActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Toolbar from \"./Toolbar\";\r\nimport Keyboard from \"./Keyboard\";\r\nimport Settings from \"./Settings\";\r\nimport keyMap from \"./keyMap\";\r\nimport Reconnect from \"./Reconnect\";\r\n\r\nimport \"./chat.css\";\r\nimport { connect, resetChat, updateConnectionState } from \"../redux/actions/chatActions\";\r\nimport { CONNECTED, FAIL } from \"../connectionConst\";\r\nimport onMessage from \"./onMessage\";\r\nimport { createDrumsBuffer } from \"../redux/actions/drumsBufferAction\";\r\nimport Canvas from \"./Canvas\";\r\n\r\nconst drumsFilesNames=[\"f1\",\"h1\", \"k1\", \"n1\", \"o1\", \"off1\", \"p1\",\"r1\",\"s1\",\r\n                       \"f2\",\"h2\", \"k2\", \"n2\", \"o2\", \"off2\", \"p2\",\"r2\",\"s2\",\r\n                       \"f3\",\"h3\", \"k3\", \"n3\", \"o3\", \"off3\", \"p3\",\"r3\",\"s3\",];\r\n\r\n\r\nexport default function Chat(){\r\n    const dispatch= useDispatch();\r\n    const[mainVolumen, setMainVolumen]= useState(50);\r\n    const [drumsSelected, setDrumsSelected]= useState(false);\r\n    const[ keysPressed, setKeysPressed]= useState([]);\r\n    const [showSettings, setShowSettings]= useState(false);\r\n    const [instrumentSettings, setInstrumentSettings]= useState({\r\n        sine: 100, \r\n        square: 0, \r\n        triangle: 0, \r\n        sawtooth: 0, \r\n        vibratoGain: 0, \r\n        vibratoFreq: 0,\r\n        volume: 50 \r\n\r\n    });\r\n\r\n    //get keys\r\n    const keyDown= useCallback((e)=>{\r\n        setKeysPressed(prev=>{\r\n            if(prev.includes(e.key.toLocaleLowerCase())){\r\n                return [...prev];\r\n            }else{\r\n                return [...prev, e.key.toLocaleLowerCase()]\r\n            }\r\n        });\r\n    }, []);\r\n    const keyUp= useCallback((e)=>{\r\n        setKeysPressed(prev=> prev.filter((ele)=> ele !== e.key.toLocaleLowerCase()));\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        window.addEventListener(\"keydown\", keyDown);\r\n        window.addEventListener(\"keyup\",keyUp);\r\n\r\n        return ()=>{\r\n            window.removeEventListener('keydown', keyDown);\r\n            window.removeEventListener('keyup', keyUp);\r\n        }\r\n\r\n    },[keyDown, keyUp]);\r\n\r\n    // useEffect(()=>{\r\n    //     console.log(keysPressed)\r\n    // },[keysPressed]);\r\n\r\n    useEffect(()=>{\r\n        dispatch(createAudioContext());\r\n        dispatch(createMainGain());\r\n        dispatch(createWave(\"local\"));\r\n        dispatch(createDrumsBuffer(drumsFilesNames, keyMap.length));\r\n        dispatch(connect());\r\n    },[dispatch]);\r\n    useEffect(()=>{\r\n        dispatch(updateMasterGain(mainVolumen / 100));\r\n    },[mainVolumen, dispatch]);\r\n\r\n    //chat\r\n    const connectionState= useSelector(s=> s.chat.connectionState);\r\n    const ws= useSelector(s=> s.chat.ws);\r\n\r\n    useEffect(()=>{\r\n        if(ws){\r\n            let err= false;\r\n            ws.onerror=(e)=>{\r\n                console.log(\"ws error\");\r\n                dispatch(updateConnectionState(FAIL));\r\n                err= true;\r\n            }\r\n            ws.onopen=(e)=>{\r\n                console.log(\"connected\");\r\n                dispatch(updateConnectionState(CONNECTED));\r\n            }\r\n            ws.onmessage=(message)=> onMessage(message, dispatch);\r\n\r\n            ws.onclose=(e)=>{\r\n                if(!err){\r\n                    dispatch(updateConnectionState(FAIL));\r\n                    dispatch(resetChat());\r\n                    dispatch(resetWaves());\r\n                    console.log(\"close\");\r\n                }\r\n            }\r\n        }\r\n\r\n        return ()=>{\r\n            if(ws){\r\n                ws.close();\r\n            }\r\n        }\r\n    }, [ws, dispatch]);\r\n\r\n    \r\n    return(\r\n        <div className=\"chatMainContainer\">\r\n            {\r\n                connectionState !== CONNECTED ?\r\n\r\n                (\r\n                    <Reconnect connectionState={connectionState} />\r\n                ): (null)\r\n            }\r\n        <div className=\"viewControlsContainer\" id=\"viewCon\">\r\n        <Canvas />\r\n        <Toolbar \r\n        mainVolumen={mainVolumen} \r\n        setMainVolumen={setMainVolumen} \r\n        drumsSelected= {drumsSelected}\r\n        setDrumsSelected= {setDrumsSelected}\r\n        setShowSettings={setShowSettings}\r\n        />\r\n        <Settings instrumentSettings={instrumentSettings}\r\n         setInstrumentSettings={setInstrumentSettings} \r\n         showSettings={showSettings}\r\n         drumsSelected={drumsSelected}/>\r\n        </div>\r\n        <Keyboard keysPressed={keysPressed} drumsSelected={drumsSelected}\r\n        instrumentSettings={instrumentSettings} />\r\n        </div>\r\n    )\r\n}","import { CREATE_DRUMS_BUFFERS } from \"../consts\";\r\n\r\n\r\nexport const createDrumsBuffer=(drumsFilesNames, keyMapLength)=>async (dispatch, getState)=>{\r\n\r\n    const audioCtx= getState().audioCtx.audioCtx;\r\n\r\n    if(audioCtx){\r\n        const buffers=[];\r\n        for(let i= 0 ; i < keyMapLength; i++){\r\n            const name= drumsFilesNames[i % drumsFilesNames.length];\r\n            const fileDir= `drumsSamples/${name}.wav`;\r\n            const res= await fetch(fileDir);\r\n            const soundBuffer= await res.arrayBuffer();\r\n            const dBuffer= await audioCtx.decodeAudioData(soundBuffer);\r\n            buffers.push(dBuffer);\r\n        }\r\n    \r\n        dispatch({\r\n            type: CREATE_DRUMS_BUFFERS, \r\n            payload: buffers\r\n        });\r\n    }\r\n\r\n\r\n}"," \r\n \r\n export default function StartIcon({classN}){\r\n\r\n    return(\r\n \r\n<svg version=\"1.1\"\r\n\t xmlns=\"http://www.w3.org/2000/svg\" \r\n     xmlnsXlink=\"http://www.w3.org/1999/xlink\" \r\n     xmlnsa=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n\t viewBox=\"0 0 177 177\" className={classN} >\r\n<defs>\r\n</defs>\r\n<g>\r\n\t<circle  cx=\"88.5\" cy=\"88.5\" r=\"87\"/>\r\n\t<polygon  points=\"137,88.5 62,45.2 62,131.8 \"/>\r\n</g>\r\n</svg>\r\n\r\n    )\r\n }","import StartIcon from \"../svg/StartIcon\";\r\nimport \"./home.css\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Home(){\r\n\r\n    return(\r\n        <div className= \"HomeMainContainer\">\r\n        <header className=\"homeHeader\">\r\n            <img src=\"/img/logo.svg\" alt=\"e.m. jam\"></img>\r\n            <h2>Real Time Musical Chat</h2>\r\n        </header>\r\n        <main className=\"homeMain\">\r\n            <ul>\r\n                <li>Drums and multi wave synthesizer</li>\r\n                <li>Five users per room</li>\r\n                <li>You can play with the interactive piano of the app or with your keyboard</li>\r\n                <li>Enjoy with the interactive visuals</li>\r\n            </ul>\r\n            <button>\r\n                <Link to=\"/chat\">\r\n                <div className=\"startContainer\">\r\n                    <StartIcon classN={\"startIcon\"} />\r\n                </div>\r\n                <span>START</span>\r\n                </Link>\r\n            </button>\r\n            <p className=\"homeMessage\">Please put your device in landscape position for a better experience</p>\r\n        </main>\r\n        </ div>\r\n    )\r\n}","import { DISCONNECTED } from \"../../connectionConst\";\r\nimport { ADD_USER, CONNECT, DELETE_USER, RESET_CHAT, SET_ROOM, UPDATE_CONNECTION_STATE } from \"../consts\";\r\n\r\n\r\nconst initialState={\r\n    ws: null, \r\n    connectionState: DISCONNECTED, \r\n    room: \"\", \r\n    users: []\r\n}\r\n\r\nexport default function chatReducer(state=initialState, action){\r\n    switch(action.type){\r\n        case CONNECT:\r\n            return {...state, ws: action.payload, connectionState: DISCONNECTED};\r\n        case UPDATE_CONNECTION_STATE:\r\n            return {...state, connectionState: action.payload};\r\n        case SET_ROOM:\r\n            return {...state, room: action.payload};\r\n        case ADD_USER:\r\n        case DELETE_USER:\r\n            return {...state, users: action.payload};\r\n        case RESET_CHAT:\r\n            return {...action.payload};\r\n        default: return state;\r\n    }\r\n}\r\n","import {createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\"\r\nimport audioContextReducer from \"./reducers/audioContextReducer\";\r\nimport noteReducer from \"./reducers/noteReducer\";\r\nimport waveReducer from \"./reducers/waveReducer\";\r\nimport chatReducer from \"./reducers/chatReducer\";\r\nimport drumsBufferReducer from \"./reducers/drumsBufferReducer\";\r\n\r\nconst rootReducer= combineReducers({\r\n    audioCtx: audioContextReducer,\r\n    waves: waveReducer,\r\n    notes: noteReducer, \r\n    chat: chatReducer,\r\n    drumsBuffer: drumsBufferReducer\r\n});\r\n\r\nexport default function generateStore(){\r\n    return createStore(rootReducer, applyMiddleware(thunk));\r\n}","import {CREATE_AUDIO_CONTEXT, CREATE_MAIN_GAIN} from \"../consts\";\r\n\r\nexport default function audioContextReducer(state= {}, action){\r\n    switch(action.type){\r\n        case CREATE_AUDIO_CONTEXT:\r\n            return {...state, audioCtx: action.payload};\r\n        case CREATE_MAIN_GAIN:\r\n            return {...state, masterGain: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import {CREATE_WAVE, DELETE_WAVE, RESET_WAVES} from \"../consts\";\r\n\r\nexport default function waveReducer(state= {}, action){\r\n    switch(action.type){\r\n        case CREATE_WAVE:\r\n            const {userId, wave}= action.payload;\r\n            const w= {...state};\r\n            w[userId]= wave;\r\n            return w;\r\n        case DELETE_WAVE:\r\n            return {...action.payload};\r\n        case RESET_WAVES:\r\n            return {...action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import { PLAY_NOTE, STOP_NOTE, PLAY_DRUM, DELETE_DRUM } from \"../consts\";\r\n\r\n\r\nexport default function noteReducer(state = {}, action){\r\n    switch(action.type){\r\n        case PLAY_NOTE:\r\n            const {noteId, note}= action.payload;\r\n            state[noteId]= note;\r\n            return state;\r\n        case PLAY_DRUM:\r\n            const {drumId, drum}= action.payload;\r\n            state[drumId]= drum;\r\n            return state;\r\n        case STOP_NOTE:\r\n            return action.payload;\r\n        case DELETE_DRUM:\r\n            return action.payload\r\n        default:\r\n            return state;\r\n    }\r\n}","import { CREATE_DRUMS_BUFFERS } from \"../consts\";\r\n\r\n\r\nexport default function drumsBufferReducer(store=[], action){\r\n\r\n    switch(action.type){\r\n        case CREATE_DRUMS_BUFFERS:\r\n            return action.payload;\r\n        default: return store;\r\n    }\r\n}","import {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Chat from \"./chat/Chat\";\nimport Home from \"./home/Home\";\nimport {Provider} from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nfunction App() {\n  const store= generateStore();\n\n  return (\n\n    <Router>\n      <Switch>\n        <Route path=\"/chat\">\n          <Provider store={store}>\n            <Chat />\n          </Provider>\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}